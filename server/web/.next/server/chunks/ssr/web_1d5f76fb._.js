module.exports=[30458,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},21265,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},2992,35520,50670,a=>{"use strict";var b=a.i(55132);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],35520);let h=g("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);a.s(["Moon",()=>h],2992);let i=g("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);a.s(["Sun",()=>i],50670)},92723,81914,a=>{"use strict";var b=a.i(55132);function c(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function d(...a){return b=>{let d=!1,e=a.map(a=>{let e=c(a,b);return d||"function"!=typeof e||(d=!0),e});if(d)return()=>{for(let b=0;b<e.length;b++){let d=e[b];"function"==typeof d?d():c(a[b],null)}}}}function e(...a){return b.useCallback(d(...a),a)}a.s(["composeRefs",()=>d,"useComposedRefs",()=>e],81914);var f=a.i(56856),g=Symbol.for("react.lazy"),h=b[" use ".trim().toString()];function i(a){var b;return null!=a&&"object"==typeof a&&"$$typeof"in a&&a.$$typeof===g&&"_payload"in a&&"object"==typeof(b=a._payload)&&null!==b&&"then"in b}function j(a){var c;let e,g=(c=a,(e=b.forwardRef((a,c)=>{let{children:e,...f}=a;if(i(e)&&"function"==typeof h&&(e=h(e._payload)),b.isValidElement(e)){var g;let a,h,i=(g=e,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,e.props);return e.type!==b.Fragment&&(j.ref=c?d(c,i):i),b.cloneElement(e,j)}return b.Children.count(e)>1?b.Children.only(null):null})).displayName=`${c}.SlotClone`,e),j=b.forwardRef((a,c)=>{let{children:d,...e}=a;i(d)&&"function"==typeof h&&(d=h(d._payload));let j=b.Children.toArray(d),k=j.find(m);if(k){let a=k.props.children,d=j.map(c=>c!==k?c:b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null);return(0,f.jsx)(g,{...e,ref:c,children:b.isValidElement(a)?b.cloneElement(a,void 0,d):null})}return(0,f.jsx)(g,{...e,ref:c,children:d})});return j.displayName=`${a}.Slot`,j}var k=j("Slot"),l=Symbol("radix.slottable");function m(a){return b.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===l}a.s(["Slot",()=>k,"createSlot",()=>j],92723)},38174,56033,a=>{"use strict";function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}let c=a=>"boolean"==typeof a?`${a}`:0===a?"0":a;a.s(["cva",0,(a,d)=>e=>{var f;if((null==d?void 0:d.variants)==null)return b(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:g,defaultVariants:h}=d,i=Object.keys(g).map(a=>{let b=null==e?void 0:e[a],d=null==h?void 0:h[a];if(null===b)return null;let f=c(b)||c(d);return g[a][f]}),j=e&&Object.entries(e).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return b(a,i,null==d||null==(f=d.compoundVariants)?void 0:f.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==e?void 0:e.class,null==e?void 0:e.className)}],38174);let d=(a=new Map,b=null,c)=>({nextPart:a,validators:b,classGroupId:c}),e=[],f=(a,b,c)=>{if(0==a.length-b)return c.classGroupId;let d=a[b],e=c.nextPart.get(d);if(e){let c=f(a,b+1,e);if(c)return c}let g=c.validators;if(null===g)return;let h=0===b?a.join("-"):a.slice(b).join("-"),i=g.length;for(let a=0;a<i;a++){let b=g[a];if(b.validator(h))return b.classGroupId}},g=(a,b)=>{let c=d();for(let d in a)h(a[d],c,d,b);return c},h=(a,b,c,d)=>{let e=a.length;for(let f=0;f<e;f++)i(a[f],b,c,d)},i=(a,b,c,d)=>{"string"==typeof a?j(a,b,c):"function"==typeof a?k(a,b,c,d):l(a,b,c,d)},j=(a,b,c)=>{(""===a?b:m(b,a)).classGroupId=c},k=(a,b,c,d)=>{n(a)?h(a(d),b,c,d):(null===b.validators&&(b.validators=[]),b.validators.push({classGroupId:c,validator:a}))},l=(a,b,c,d)=>{let e=Object.entries(a),f=e.length;for(let a=0;a<f;a++){let[f,g]=e[a];h(g,m(b,f),c,d)}},m=(a,b)=>{let c=a,e=b.split("-"),f=e.length;for(let a=0;a<f;a++){let b=e[a],f=c.nextPart.get(b);f||(f=d(),c.nextPart.set(b,f)),c=f}return c},n=a=>"isThemeGetter"in a&&!0===a.isThemeGetter,o=[],p=(a,b,c,d,e)=>({modifiers:a,hasImportantModifier:b,baseClassName:c,maybePostfixModifierPosition:d,isExternal:e}),q=/\s+/,r=a=>{let b;if("string"==typeof a)return a;let c="";for(let d=0;d<a.length;d++)a[d]&&(b=r(a[d]))&&(c&&(c+=" "),c+=b);return c},s=[],t=a=>{let b=b=>b[a]||s;return b.isThemeGetter=!0,b},u=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,v=/^\((?:(\w[\w-]*):)?(.+)\)$/i,w=/^\d+\/\d+$/,x=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,A=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,C=a=>w.test(a),D=a=>!!a&&!Number.isNaN(Number(a)),E=a=>!!a&&Number.isInteger(Number(a)),F=a=>a.endsWith("%")&&D(a.slice(0,-1)),G=a=>x.test(a),H=()=>!0,I=a=>y.test(a)&&!z.test(a),J=()=>!1,K=a=>A.test(a),L=a=>B.test(a),M=a=>!O(a)&&!U(a),N=a=>_(a,ad,J),O=a=>u.test(a),P=a=>_(a,ae,I),Q=a=>_(a,af,D),R=a=>_(a,ab,J),S=a=>_(a,ac,L),T=a=>_(a,ah,K),U=a=>v.test(a),V=a=>aa(a,ae),W=a=>aa(a,ag),X=a=>aa(a,ab),Y=a=>aa(a,ad),Z=a=>aa(a,ac),$=a=>aa(a,ah,!0),_=(a,b,c)=>{let d=u.exec(a);return!!d&&(d[1]?b(d[1]):c(d[2]))},aa=(a,b,c=!1)=>{let d=v.exec(a);return!!d&&(d[1]?b(d[1]):c)},ab=a=>"position"===a||"percentage"===a,ac=a=>"image"===a||"url"===a,ad=a=>"length"===a||"size"===a||"bg-size"===a,ae=a=>"length"===a,af=a=>"number"===a,ag=a=>"family-name"===a,ah=a=>"shadow"===a,ai=((a,...b)=>{let c,d,h,i,j=a=>{let b=d(a);if(b)return b;let e=((a,b)=>{let{parseClassName:c,getClassGroupId:d,getConflictingClassGroupIds:e,sortModifiers:f}=b,g=[],h=a.trim().split(q),i="";for(let a=h.length-1;a>=0;a-=1){let b=h[a],{isExternal:j,modifiers:k,hasImportantModifier:l,baseClassName:m,maybePostfixModifierPosition:n}=c(b);if(j){i=b+(i.length>0?" "+i:i);continue}let o=!!n,p=d(o?m.substring(0,n):m);if(!p){if(!o||!(p=d(m))){i=b+(i.length>0?" "+i:i);continue}o=!1}let q=0===k.length?"":1===k.length?k[0]:f(k).join(":"),r=l?q+"!":q,s=r+p;if(g.indexOf(s)>-1)continue;g.push(s);let t=e(p,o);for(let a=0;a<t.length;++a){let b=t[a];g.push(r+b)}i=b+(i.length>0?" "+i:i)}return i})(a,c);return h(a,e),e};return i=k=>{var l;let m;return d=(c={cache:(a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let b=0,c=Object.create(null),d=Object.create(null),e=(e,f)=>{c[e]=f,++b>a&&(b=0,d=c,c=Object.create(null))};return{get(a){let b=c[a];return void 0!==b?b:void 0!==(b=d[a])?(e(a,b),b):void 0},set(a,b){a in c?c[a]=b:e(a,b)}}})((l=b.reduce((a,b)=>b(a),a())).cacheSize),parseClassName:(a=>{let{prefix:b,experimentalParseClassName:c}=a,d=a=>{let b,c=[],d=0,e=0,f=0,g=a.length;for(let h=0;h<g;h++){let g=a[h];if(0===d&&0===e){if(":"===g){c.push(a.slice(f,h)),f=h+1;continue}if("/"===g){b=h;continue}}"["===g?d++:"]"===g?d--:"("===g?e++:")"===g&&e--}let h=0===c.length?a:a.slice(f),i=h,j=!1;return h.endsWith("!")?(i=h.slice(0,-1),j=!0):h.startsWith("!")&&(i=h.slice(1),j=!0),p(c,j,i,b&&b>f?b-f:void 0)};if(b){let a=b+":",c=d;d=b=>b.startsWith(a)?c(b.slice(a.length)):p(o,!1,b,void 0,!0)}if(c){let a=d;d=b=>c({className:b,parseClassName:a})}return d})(l),sortModifiers:(m=new Map,l.orderSensitiveModifiers.forEach((a,b)=>{m.set(a,1e6+b)}),a=>{let b=[],c=[];for(let d=0;d<a.length;d++){let e=a[d],f="["===e[0],g=m.has(e);f||g?(c.length>0&&(c.sort(),b.push(...c),c=[]),b.push(e)):c.push(e)}return c.length>0&&(c.sort(),b.push(...c)),b}),...(a=>{let b=(a=>{let{theme:b,classGroups:c}=a;return g(c,b)})(a),{conflictingClassGroups:c,conflictingClassGroupModifiers:d}=a;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]")){var c;let b,d,e;return -1===(c=a).slice(1,-1).indexOf(":")?void 0:(d=(b=c.slice(1,-1)).indexOf(":"),(e=b.slice(0,d))?"arbitrary.."+e:void 0)}let d=a.split("-"),e=+(""===d[0]&&d.length>1);return f(d,e,b)},getConflictingClassGroupIds:(a,b)=>{if(b){let b=d[a],f=c[a];if(b){if(f){let a=Array(f.length+b.length);for(let b=0;b<f.length;b++)a[b]=f[b];for(let c=0;c<b.length;c++)a[f.length+c]=b[c];return a}return b}return f||e}return c[a]||e}}})(l)}).cache.get,h=c.cache.set,i=j,j(k)},(...a)=>i(((...a)=>{let b,c,d=0,e="";for(;d<a.length;)(b=a[d++])&&(c=r(b))&&(e&&(e+=" "),e+=c);return e})(...a))})(()=>{let a=t("color"),b=t("font"),c=t("text"),d=t("font-weight"),e=t("tracking"),f=t("leading"),g=t("breakpoint"),h=t("container"),i=t("spacing"),j=t("radius"),k=t("shadow"),l=t("inset-shadow"),m=t("text-shadow"),n=t("drop-shadow"),o=t("blur"),p=t("perspective"),q=t("aspect"),r=t("ease"),s=t("animate"),u=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...v(),U,O],x=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto","contain","none"],z=()=>[U,O,i],A=()=>[C,"full","auto",...z()],B=()=>[E,"none","subgrid",U,O],I=()=>["auto",{span:["full",E,U,O]},E,U,O],J=()=>[E,"auto",U,O],K=()=>["auto","min","max","fr",U,O],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_=()=>["start","end","center","stretch","center-safe","end-safe"],aa=()=>["auto",...z()],ab=()=>[C,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],ac=()=>[a,U,O],ad=()=>[...v(),X,R,{position:[U,O]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],af=()=>["auto","cover","contain",Y,N,{size:[U,O]}],ag=()=>[F,V,P],ah=()=>["","none","full",j,U,O],ai=()=>["",D,V,P],aj=()=>["solid","dashed","dotted","double"],ak=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],al=()=>[D,F,X,R],am=()=>["","none",o,U,O],an=()=>["none",D,U,O],ao=()=>["none",D,U,O],ap=()=>[D,U,O],aq=()=>[C,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[G],breakpoint:[G],color:[H],container:[G],"drop-shadow":[G],ease:["in","out","in-out"],font:[M],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[G],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[G],shadow:[G],spacing:["px",D],text:[G],"text-shadow":[G],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",C,O,U,q]}],container:["container"],columns:[{columns:[D,O,U,h]}],"break-after":[{"break-after":u()}],"break-before":[{"break-before":u()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:y()}],"overscroll-x":[{"overscroll-x":y()}],"overscroll-y":[{"overscroll-y":y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[E,"auto",U,O]}],basis:[{basis:[C,"full","auto",h,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[D,C,"auto","initial","none",O]}],grow:[{grow:["",D,U,O]}],shrink:[{shrink:["",D,U,O]}],order:[{order:[E,"first","last","none",U,O]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[..._(),"normal"]}],"justify-self":[{"justify-self":["auto",..._()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[..._(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[..._(),"baseline"]}],"place-self":[{"place-self":["auto",..._()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:aa()}],mx:[{mx:aa()}],my:[{my:aa()}],ms:[{ms:aa()}],me:[{me:aa()}],mt:[{mt:aa()}],mr:[{mr:aa()}],mb:[{mb:aa()}],ml:[{ml:aa()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:ab()}],w:[{w:[h,"screen",...ab()]}],"min-w":[{"min-w":[h,"screen","none",...ab()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[g]},...ab()]}],h:[{h:["screen","lh",...ab()]}],"min-h":[{"min-h":["screen","lh","none",...ab()]}],"max-h":[{"max-h":["screen","lh",...ab()]}],"font-size":[{text:["base",c,V,P]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[d,U,Q]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",F,O]}],"font-family":[{font:[W,O,b]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[e,U,O]}],"line-clamp":[{"line-clamp":[D,"none",U,Q]}],leading:[{leading:[f,...z()]}],"list-image":[{"list-image":["none",U,O]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",U,O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ac()}],"text-color":[{text:ac()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...aj(),"wavy"]}],"text-decoration-thickness":[{decoration:[D,"from-font","auto",U,P]}],"text-decoration-color":[{decoration:ac()}],"underline-offset":[{"underline-offset":[D,"auto",U,O]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U,O]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U,O]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ad()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:af()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},E,U,O],radial:["",U,O],conic:[E,U,O]},Z,S]}],"bg-color":[{bg:ac()}],"gradient-from-pos":[{from:ag()}],"gradient-via-pos":[{via:ag()}],"gradient-to-pos":[{to:ag()}],"gradient-from":[{from:ac()}],"gradient-via":[{via:ac()}],"gradient-to":[{to:ac()}],rounded:[{rounded:ah()}],"rounded-s":[{"rounded-s":ah()}],"rounded-e":[{"rounded-e":ah()}],"rounded-t":[{"rounded-t":ah()}],"rounded-r":[{"rounded-r":ah()}],"rounded-b":[{"rounded-b":ah()}],"rounded-l":[{"rounded-l":ah()}],"rounded-ss":[{"rounded-ss":ah()}],"rounded-se":[{"rounded-se":ah()}],"rounded-ee":[{"rounded-ee":ah()}],"rounded-es":[{"rounded-es":ah()}],"rounded-tl":[{"rounded-tl":ah()}],"rounded-tr":[{"rounded-tr":ah()}],"rounded-br":[{"rounded-br":ah()}],"rounded-bl":[{"rounded-bl":ah()}],"border-w":[{border:ai()}],"border-w-x":[{"border-x":ai()}],"border-w-y":[{"border-y":ai()}],"border-w-s":[{"border-s":ai()}],"border-w-e":[{"border-e":ai()}],"border-w-t":[{"border-t":ai()}],"border-w-r":[{"border-r":ai()}],"border-w-b":[{"border-b":ai()}],"border-w-l":[{"border-l":ai()}],"divide-x":[{"divide-x":ai()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ai()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...aj(),"hidden","none"]}],"divide-style":[{divide:[...aj(),"hidden","none"]}],"border-color":[{border:ac()}],"border-color-x":[{"border-x":ac()}],"border-color-y":[{"border-y":ac()}],"border-color-s":[{"border-s":ac()}],"border-color-e":[{"border-e":ac()}],"border-color-t":[{"border-t":ac()}],"border-color-r":[{"border-r":ac()}],"border-color-b":[{"border-b":ac()}],"border-color-l":[{"border-l":ac()}],"divide-color":[{divide:ac()}],"outline-style":[{outline:[...aj(),"none","hidden"]}],"outline-offset":[{"outline-offset":[D,U,O]}],"outline-w":[{outline:["",D,V,P]}],"outline-color":[{outline:ac()}],shadow:[{shadow:["","none",k,$,T]}],"shadow-color":[{shadow:ac()}],"inset-shadow":[{"inset-shadow":["none",l,$,T]}],"inset-shadow-color":[{"inset-shadow":ac()}],"ring-w":[{ring:ai()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ac()}],"ring-offset-w":[{"ring-offset":[D,P]}],"ring-offset-color":[{"ring-offset":ac()}],"inset-ring-w":[{"inset-ring":ai()}],"inset-ring-color":[{"inset-ring":ac()}],"text-shadow":[{"text-shadow":["none",m,$,T]}],"text-shadow-color":[{"text-shadow":ac()}],opacity:[{opacity:[D,U,O]}],"mix-blend":[{"mix-blend":[...ak(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ak()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[D]}],"mask-image-linear-from-pos":[{"mask-linear-from":al()}],"mask-image-linear-to-pos":[{"mask-linear-to":al()}],"mask-image-linear-from-color":[{"mask-linear-from":ac()}],"mask-image-linear-to-color":[{"mask-linear-to":ac()}],"mask-image-t-from-pos":[{"mask-t-from":al()}],"mask-image-t-to-pos":[{"mask-t-to":al()}],"mask-image-t-from-color":[{"mask-t-from":ac()}],"mask-image-t-to-color":[{"mask-t-to":ac()}],"mask-image-r-from-pos":[{"mask-r-from":al()}],"mask-image-r-to-pos":[{"mask-r-to":al()}],"mask-image-r-from-color":[{"mask-r-from":ac()}],"mask-image-r-to-color":[{"mask-r-to":ac()}],"mask-image-b-from-pos":[{"mask-b-from":al()}],"mask-image-b-to-pos":[{"mask-b-to":al()}],"mask-image-b-from-color":[{"mask-b-from":ac()}],"mask-image-b-to-color":[{"mask-b-to":ac()}],"mask-image-l-from-pos":[{"mask-l-from":al()}],"mask-image-l-to-pos":[{"mask-l-to":al()}],"mask-image-l-from-color":[{"mask-l-from":ac()}],"mask-image-l-to-color":[{"mask-l-to":ac()}],"mask-image-x-from-pos":[{"mask-x-from":al()}],"mask-image-x-to-pos":[{"mask-x-to":al()}],"mask-image-x-from-color":[{"mask-x-from":ac()}],"mask-image-x-to-color":[{"mask-x-to":ac()}],"mask-image-y-from-pos":[{"mask-y-from":al()}],"mask-image-y-to-pos":[{"mask-y-to":al()}],"mask-image-y-from-color":[{"mask-y-from":ac()}],"mask-image-y-to-color":[{"mask-y-to":ac()}],"mask-image-radial":[{"mask-radial":[U,O]}],"mask-image-radial-from-pos":[{"mask-radial-from":al()}],"mask-image-radial-to-pos":[{"mask-radial-to":al()}],"mask-image-radial-from-color":[{"mask-radial-from":ac()}],"mask-image-radial-to-color":[{"mask-radial-to":ac()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[D]}],"mask-image-conic-from-pos":[{"mask-conic-from":al()}],"mask-image-conic-to-pos":[{"mask-conic-to":al()}],"mask-image-conic-from-color":[{"mask-conic-from":ac()}],"mask-image-conic-to-color":[{"mask-conic-to":ac()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ad()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:af()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",U,O]}],filter:[{filter:["","none",U,O]}],blur:[{blur:am()}],brightness:[{brightness:[D,U,O]}],contrast:[{contrast:[D,U,O]}],"drop-shadow":[{"drop-shadow":["","none",n,$,T]}],"drop-shadow-color":[{"drop-shadow":ac()}],grayscale:[{grayscale:["",D,U,O]}],"hue-rotate":[{"hue-rotate":[D,U,O]}],invert:[{invert:["",D,U,O]}],saturate:[{saturate:[D,U,O]}],sepia:[{sepia:["",D,U,O]}],"backdrop-filter":[{"backdrop-filter":["","none",U,O]}],"backdrop-blur":[{"backdrop-blur":am()}],"backdrop-brightness":[{"backdrop-brightness":[D,U,O]}],"backdrop-contrast":[{"backdrop-contrast":[D,U,O]}],"backdrop-grayscale":[{"backdrop-grayscale":["",D,U,O]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[D,U,O]}],"backdrop-invert":[{"backdrop-invert":["",D,U,O]}],"backdrop-opacity":[{"backdrop-opacity":[D,U,O]}],"backdrop-saturate":[{"backdrop-saturate":[D,U,O]}],"backdrop-sepia":[{"backdrop-sepia":["",D,U,O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",U,O]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[D,"initial",U,O]}],ease:[{ease:["linear","initial",r,U,O]}],delay:[{delay:[D,U,O]}],animate:[{animate:["none",s,U,O]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,U,O]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:an()}],"rotate-x":[{"rotate-x":an()}],"rotate-y":[{"rotate-y":an()}],"rotate-z":[{"rotate-z":an()}],scale:[{scale:ao()}],"scale-x":[{"scale-x":ao()}],"scale-y":[{"scale-y":ao()}],"scale-z":[{"scale-z":ao()}],"scale-3d":["scale-3d"],skew:[{skew:ap()}],"skew-x":[{"skew-x":ap()}],"skew-y":[{"skew-y":ap()}],transform:[{transform:[U,O,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:aq()}],"translate-x":[{"translate-x":aq()}],"translate-y":[{"translate-y":aq()}],"translate-z":[{"translate-z":aq()}],"translate-none":["translate-none"],accent:[{accent:ac()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ac()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U,O]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U,O]}],fill:[{fill:["none",...ac()]}],"stroke-w":[{stroke:[D,V,P,Q]}],stroke:[{stroke:["none",...ac()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function aj(...a){return ai(b(a))}a.s(["cn",()=>aj],56033)},76031,a=>{"use strict";var b=a.i(56856),c=a.i(92723),d=a.i(38174),e=a.i(56033);let f=(0,d.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function g({className:a,variant:d="default",size:g="default",asChild:h=!1,...i}){let j=h?c.Slot:"button";return(0,b.jsx)(j,{"data-slot":"button","data-variant":d,"data-size":g,className:(0,e.cn)(f({variant:d,size:g,className:a})),...i})}a.s(["Button",()=>g])},14560,64856,44314,a=>{"use strict";var b=a.i(55132),c=a.i(56856);function d(a,e=[]){let f=[],g=()=>{let c=f.map(a=>b.createContext(a));return function(d){let e=d?.[a]||c;return b.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return g.scopeName=a,[function(d,e){let g=b.createContext(e);g.displayName=d+"Context";let h=f.length;f=[...f,e];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=b.useMemo(()=>i,Object.values(i));return(0,c.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(c,f){let i=f?.[a]?.[h]||g,j=b.useContext(i);if(j)return j;if(void 0!==e)return e;throw Error(`\`${c}\` must be used within \`${d}\``)}]},function(...a){let c=a[0];if(1===a.length)return c;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return b.useMemo(()=>({[`__scope${c.scopeName}`]:e}),[e])}};return d.scopeName=c.scopeName,d}(g,...e)]}function e(a){let c=b.useRef(a);return b.useEffect(()=>{c.current=a}),b.useMemo(()=>(...a)=>c.current?.(...a),[])}a.s(["createContextScope",()=>d],14560),a.s(["useCallbackRef",()=>e],64856);var f=globalThis?.document?b.useLayoutEffect:()=>{};a.s(["useLayoutEffect",()=>f],44314)},50960,a=>{"use strict";var b=a.i(55132);a.i(19933);var c=a.i(92723),d=a.i(56856),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,c.createSlot)(`Primitive.${e}`),g=b.forwardRef((a,b)=>{let{asChild:c,...g}=a;return(0,d.jsx)(c?f:e,{...g,ref:b})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{});a.s(["Primitive",()=>e])},69700,(a,b,c)=>{"use strict";var d=a.r(55132);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},97956,(a,b,c)=>{"use strict";b.exports=a.r(69700)},39608,a=>{"use strict";var b=a.i(56856),c=a.i(55132),d=a.i(14560),e=a.i(64856),f=a.i(44314),g=a.i(50960),h=a.i(97956);function i(){return()=>{}}var j="Avatar",[k,l]=(0,d.createContextScope)(j),[m,n]=k(j),o=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...f}=a,[h,i]=c.useState("idle");return(0,b.jsx)(m,{scope:e,imageLoadingStatus:h,onImageLoadingStatusChange:i,children:(0,b.jsx)(g.Primitive.span,{...f,ref:d})})});o.displayName=j;var p="AvatarImage",q=c.forwardRef((a,d)=>{let{__scopeAvatar:j,src:k,onLoadingStatusChange:l=()=>{},...m}=a,o=n(p,j),q=function(a,{referrerPolicy:b,crossOrigin:d}){let e=(0,h.useSyncExternalStore)(i,()=>!0,()=>!1),g=c.useRef(null),j=e?(g.current||(g.current=new window.Image),g.current):null,[k,l]=c.useState(()=>t(j,a));return(0,f.useLayoutEffect)(()=>{l(t(j,a))},[j,a]),(0,f.useLayoutEffect)(()=>{let a=a=>()=>{l(a)};if(!j)return;let c=a("loaded"),e=a("error");return j.addEventListener("load",c),j.addEventListener("error",e),b&&(j.referrerPolicy=b),"string"==typeof d&&(j.crossOrigin=d),()=>{j.removeEventListener("load",c),j.removeEventListener("error",e)}},[j,d,b]),k}(k,m),r=(0,e.useCallbackRef)(a=>{l(a),o.onImageLoadingStatusChange(a)});return(0,f.useLayoutEffect)(()=>{"idle"!==q&&r(q)},[q,r]),"loaded"===q?(0,b.jsx)(g.Primitive.img,{...m,ref:d,src:k}):null});q.displayName=p;var r="AvatarFallback",s=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:f,...h}=a,i=n(r,e),[j,k]=c.useState(void 0===f);return c.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>k(!0),f);return()=>window.clearTimeout(a)}},[f]),j&&"loaded"!==i.imageLoadingStatus?(0,b.jsx)(g.Primitive.span,{...h,ref:d}):null});function t(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}s.displayName=r;var u=a.i(56033);function v({className:a,...c}){return(0,b.jsx)(o,{"data-slot":"avatar",className:(0,u.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...c})}function w({className:a,...c}){return(0,b.jsx)(q,{"data-slot":"avatar-image",className:(0,u.cn)("aspect-square size-full",a),...c})}function x({className:a,...c}){return(0,b.jsx)(s,{"data-slot":"avatar-fallback",className:(0,u.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...c})}a.s(["Avatar",()=>v,"AvatarFallback",()=>x,"AvatarImage",()=>w],39608)},58792,a=>{"use strict";var b=a.i(56856),c=a.i(92723),d=a.i(38174),e=a.i(56033);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},80965,a=>{"use strict";var b=a.i(56856),c=a.i(56033);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},79847,a=>{"use strict";function b(a,c,{checkForDefaultPrevented:d=!0}={}){return function(b){if(a?.(b),!1===d||!b.defaultPrevented)return c?.(b)}}a.s(["composeEventHandlers",()=>b])},20509,a=>{"use strict";var b=a.i(55132),c=a.i(44314),d=b[" useId ".trim().toString()]||(()=>void 0),e=0;function f(a){let[f,g]=b.useState(d());return(0,c.useLayoutEffect)(()=>{a||g(a=>a??String(e++))},[a]),a||(f?`radix-${f}`:"")}a.s(["useId",()=>f])},17435,a=>{"use strict";var b=a.i(55132),c=a.i(44314);b[" useEffectEvent ".trim().toString()],b[" useInsertionEffect ".trim().toString()];var d=b[" useInsertionEffect ".trim().toString()]||c.useLayoutEffect;function e({prop:a,defaultProp:c,onChange:e=()=>{},caller:f}){let[g,h,i]=function({defaultProp:a,onChange:c}){let[e,f]=b.useState(a),g=b.useRef(e),h=b.useRef(c);return d(()=>{h.current=c},[c]),b.useEffect(()=>{g.current!==e&&(h.current?.(e),g.current=e)},[e,g]),[e,f,h]}({defaultProp:c,onChange:e}),j=void 0!==a,k=j?a:g;{let c=b.useRef(void 0!==a);b.useEffect(()=>{let a=c.current;if(a!==j){let b=j?"controlled":"uncontrolled";console.warn(`${f} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}c.current=j},[j,f])}return[k,b.useCallback(b=>{if(j){let c="function"==typeof b?b(a):b;c!==a&&i.current?.(c)}else h(b)},[j,a,h,i])]}Symbol("RADIX:SYNC_STATE"),a.s(["useControllableState",()=>e],17435)},63954,a=>{"use strict";var b=a.i(55132),c=a.i(81914),d=a.i(44314),e=a=>{var e;let g,h,{present:i,children:j}=a,k=function(a){var c,e;let[g,h]=b.useState(),i=b.useRef(null),j=b.useRef(a),k=b.useRef("none"),[l,m]=(c=a?"mounted":"unmounted",e={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},b.useReducer((a,b)=>e[a][b]??a,c));return b.useEffect(()=>{let a=f(i.current);k.current="mounted"===l?a:"none"},[l]),(0,d.useLayoutEffect)(()=>{let b=i.current,c=j.current;if(c!==a){let d=k.current,e=f(b);a?m("MOUNT"):"none"===e||b?.display==="none"?m("UNMOUNT"):c&&d!==e?m("ANIMATION_OUT"):m("UNMOUNT"),j.current=a}},[a,m]),(0,d.useLayoutEffect)(()=>{if(g){let a,b=g.ownerDocument.defaultView??window,c=c=>{let d=f(i.current).includes(CSS.escape(c.animationName));if(c.target===g&&d&&(m("ANIMATION_END"),!j.current)){let c=g.style.animationFillMode;g.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===g.style.animationFillMode&&(g.style.animationFillMode=c)})}},d=a=>{a.target===g&&(k.current=f(i.current))};return g.addEventListener("animationstart",d),g.addEventListener("animationcancel",c),g.addEventListener("animationend",c),()=>{b.clearTimeout(a),g.removeEventListener("animationstart",d),g.removeEventListener("animationcancel",c),g.removeEventListener("animationend",c)}}m("ANIMATION_END")},[g,m]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(a=>{i.current=a?getComputedStyle(a):null,h(a)},[])}}(i),l="function"==typeof j?j({present:k.isPresent}):b.Children.only(j),m=(0,c.useComposedRefs)(k.ref,(e=l,(h=(g=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning)?e.ref:(h=(g=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning)?e.props.ref:e.props.ref||e.ref));return"function"==typeof j||k.isPresent?b.cloneElement(l,{ref:m}):null};function f(a){return a?.animationName||"none"}e.displayName="Presence",a.s(["Presence",()=>e])},80416,a=>{"use strict";var b=a.i(55132),c=a.i(56856),d=a.i(81914);function e(a){var e;let f,h=(e=a,(f=b.forwardRef((a,c)=>{let{children:e,...f}=a;if(b.isValidElement(e)){var g;let a,h,i=(g=e,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,e.props);return e.type!==b.Fragment&&(j.ref=c?(0,d.composeRefs)(c,i):i),b.cloneElement(e,j)}return b.Children.count(e)>1?b.Children.only(null):null})).displayName=`${e}.SlotClone`,f),i=b.forwardRef((a,d)=>{let{children:e,...f}=a,i=b.Children.toArray(e),j=i.find(g);if(j){let a=j.props.children,e=i.map(c=>c!==j?c:b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null);return(0,c.jsx)(h,{...f,ref:d,children:b.isValidElement(a)?b.cloneElement(a,void 0,e):null})}return(0,c.jsx)(h,{...f,ref:d,children:e})});return i.displayName=`${a}.Slot`,i}var f=Symbol("radix.slottable");function g(a){return b.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===f}function h(a){let f=a+"CollectionProvider",[g,h]=function(a,d=[]){let e=[],f=()=>{let c=e.map(a=>b.createContext(a));return function(d){let e=d?.[a]||c;return b.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=b.createContext(f),h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=b.useMemo(()=>i,Object.values(i));return(0,c.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(c,e){let i=e?.[a]?.[h]||g,j=b.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${c}\` must be used within \`${d}\``)}]},function(...a){let c=a[0];if(1===a.length)return c;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return b.useMemo(()=>({[`__scope${c.scopeName}`]:e}),[e])}};return d.scopeName=c.scopeName,d}(f,...d)]}(f),[i,j]=g(f,{collectionRef:{current:null},itemMap:new Map}),k=a=>{let{scope:d,children:e}=a,f=b.default.useRef(null),g=b.default.useRef(new Map).current;return(0,c.jsx)(i,{scope:d,itemMap:g,collectionRef:f,children:e})};k.displayName=f;let l=a+"CollectionSlot",m=e(l),n=b.default.forwardRef((a,b)=>{let{scope:e,children:f}=a,g=j(l,e),h=(0,d.useComposedRefs)(b,g.collectionRef);return(0,c.jsx)(m,{ref:h,children:f})});n.displayName=l;let o=a+"CollectionItemSlot",p="data-radix-collection-item",q=e(o),r=b.default.forwardRef((a,e)=>{let{scope:f,children:g,...h}=a,i=b.default.useRef(null),k=(0,d.useComposedRefs)(e,i),l=j(o,f);return b.default.useEffect(()=>(l.itemMap.set(i,{ref:i,...h}),()=>void l.itemMap.delete(i))),(0,c.jsx)(q,{...{[p]:""},ref:k,children:g})});return r.displayName=o,[{Provider:k,Slot:n,ItemSlot:r},function(c){let d=j(a+"CollectionConsumer",c);return b.default.useCallback(()=>{let a=d.collectionRef.current;if(!a)return[];let b=Array.from(a.querySelectorAll(`[${p}]`));return Array.from(d.itemMap.values()).sort((a,c)=>b.indexOf(a.ref.current)-b.indexOf(c.ref.current))},[d.collectionRef,d.itemMap])},h]}var i=new WeakMap;function j(a,b){var c,d;let e,f,g;if("at"in Array.prototype)return Array.prototype.at.call(a,b);let h=(c=a,d=b,e=c.length,(g=(f=k(d))>=0?f:e+f)<0||g>=e?-1:g);return -1===h?void 0:a[h]}function k(a){return a!=a||0===a?0:Math.trunc(a)}(class a extends Map{#a;constructor(a){super(a),this.#a=[...super.keys()],i.set(this,!0)}set(a,b){return i.get(this)&&(this.has(a)?this.#a[this.#a.indexOf(a)]=a:this.#a.push(a)),super.set(a,b),this}insert(a,b,c){let d,e=this.has(b),f=this.#a.length,g=k(a),h=g>=0?g:f+g,i=h<0||h>=f?-1:h;if(i===this.size||e&&i===this.size-1||-1===i)return this.set(b,c),this;let j=this.size+ +!e;g<0&&h++;let l=[...this.#a],m=!1;for(let a=h;a<j;a++)if(h===a){let f=l[a];l[a]===b&&(f=l[a+1]),e&&this.delete(b),d=this.get(f),this.set(b,c)}else{m||l[a-1]!==b||(m=!0);let c=l[m?a:a-1],e=d;d=this.get(c),this.delete(c),this.set(c,e)}return this}with(b,c,d){let e=new a(this);return e.insert(b,c,d),e}before(a){let b=this.#a.indexOf(a)-1;if(!(b<0))return this.entryAt(b)}setBefore(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d,b,c)}after(a){let b=this.#a.indexOf(a);if(-1!==(b=-1===b||b===this.size-1?-1:b+1))return this.entryAt(b)}setAfter(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d+1,b,c)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#a=[],super.clear()}delete(a){let b=super.delete(a);return b&&this.#a.splice(this.#a.indexOf(a),1),b}deleteAt(a){let b=this.keyAt(a);return void 0!==b&&this.delete(b)}at(a){let b=j(this.#a,a);if(void 0!==b)return this.get(b)}entryAt(a){let b=j(this.#a,a);if(void 0!==b)return[b,this.get(b)]}indexOf(a){return this.#a.indexOf(a)}keyAt(a){return j(this.#a,a)}from(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.at(d)}keyFrom(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.keyAt(d)}find(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return d;c++}}findIndex(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return c;c++}return -1}filter(b,c){let d=[],e=0;for(let a of this)Reflect.apply(b,c,[a,e,this])&&d.push(a),e++;return new a(d)}map(b,c){let d=[],e=0;for(let a of this)d.push([a[0],Reflect.apply(b,c,[a,e,this])]),e++;return new a(d)}reduce(...a){let[b,c]=a,d=0,e=c??this.at(0);for(let c of this)e=0===d&&1===a.length?c:Reflect.apply(b,this,[e,c,d,this]),d++;return e}reduceRight(...a){let[b,c]=a,d=c??this.at(-1);for(let c=this.size-1;c>=0;c--){let e=this.at(c);d=c===this.size-1&&1===a.length?e:Reflect.apply(b,this,[d,e,c,this])}return d}toSorted(b){return new a([...this.entries()].sort(b))}toReversed(){let b=new a;for(let a=this.size-1;a>=0;a--){let c=this.keyAt(a),d=this.get(c);b.set(c,d)}return b}toSpliced(...b){let c=[...this.entries()];return c.splice(...b),new a(c)}slice(b,c){let d=new a,e=this.size-1;if(void 0===b)return d;b<0&&(b+=this.size),void 0!==c&&c>0&&(e=c-1);for(let a=b;a<=e;a++){let b=this.keyAt(a),c=this.get(b);d.set(b,c)}return d}every(a,b){let c=0;for(let d of this){if(!Reflect.apply(a,b,[d,c,this]))return!1;c++}return!0}some(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return!0;c++}return!1}}),a.s(["createCollection",()=>h],80416)},10283,a=>{"use strict";var b=a.i(55132);a.i(56856);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d])},56969,a=>{"use strict";var b=a.i(55132),c=a.i(44314);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},49835,a=>{"use strict";var b=a.i(55132),c=a.i(56856);function d(a,e=[]){let f=[],g=()=>{let c=f.map(a=>b.createContext(a));return function(d){let e=d?.[a]||c;return b.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return g.scopeName=a,[function(d,e){let g=b.createContext(e),h=f.length;f=[...f,e];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=b.useMemo(()=>i,Object.values(i));return(0,c.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(c,f){let i=f?.[a]?.[h]||g,j=b.useContext(i);if(j)return j;if(void 0!==e)return e;throw Error(`\`${c}\` must be used within \`${d}\``)}]},function(...a){let c=a[0];if(1===a.length)return c;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return b.useMemo(()=>({[`__scope${c.scopeName}`]:e}),[e])}};return d.scopeName=c.scopeName,d}(g,...e)]}a.s(["createContextScope",()=>d])},25141,a=>{"use strict";var b=a.i(55132);a.i(19933);var c=a.i(81914),d=a.i(56856),e=Symbol("radix.slottable");function f(a){return b.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===e}var g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{var g,h;let i,j,k,l=(h=g=`Primitive.${e}`,(i=b.forwardRef((a,d)=>{let{children:e,...f}=a;if(b.isValidElement(e)){var g;let a,h,i=(g=e,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,e.props);return e.type!==b.Fragment&&(j.ref=d?(0,c.composeRefs)(d,i):i),b.cloneElement(e,j)}return b.Children.count(e)>1?b.Children.only(null):null})).displayName=`${h}.SlotClone`,j=i,(k=b.forwardRef((a,c)=>{let{children:e,...g}=a,h=b.Children.toArray(e),i=h.find(f);if(i){let a=i.props.children,e=h.map(c=>c!==i?c:b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null);return(0,d.jsx)(j,{...g,ref:c,children:b.isValidElement(a)?b.cloneElement(a,void 0,e):null})}return(0,d.jsx)(j,{...g,ref:c,children:e})})).displayName=`${g}.Slot`,k),m=b.forwardRef((a,b)=>{let{asChild:c,...f}=a;return(0,d.jsx)(c?l:e,{...f,ref:b})});return m.displayName=`Primitive.${e}`,{...a,[e]:m}},{});a.s(["Primitive",()=>g],25141)},29245,a=>{"use strict";var b=a.i(55132),c=a.i(79847),d=a.i(80416),e=a.i(81914),f=a.i(49835),g=a.i(20509),h=a.i(25141),i=a.i(64856),j=a.i(17435),k=a.i(10283),l=a.i(56856),m="rovingFocusGroup.onEntryFocus",n={bubbles:!1,cancelable:!0},o="RovingFocusGroup",[p,q,r]=(0,d.createCollection)(o),[s,t]=(0,f.createContextScope)(o,[r]),[u,v]=s(o),w=b.forwardRef((a,b)=>(0,l.jsx)(p.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(p.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(x,{...a,ref:b})})}));w.displayName=o;var x=b.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:f,orientation:g,loop:p=!1,dir:r,currentTabStopId:s,defaultCurrentTabStopId:t,onCurrentTabStopIdChange:v,onEntryFocus:w,preventScrollOnEntryFocus:x=!1,...y}=a,z=b.useRef(null),A=(0,e.useComposedRefs)(d,z),C=(0,k.useDirection)(r),[D,E]=(0,j.useControllableState)({prop:s,defaultProp:t??null,onChange:v,caller:o}),[F,G]=b.useState(!1),H=(0,i.useCallbackRef)(w),I=q(f),J=b.useRef(!1),[K,L]=b.useState(0);return b.useEffect(()=>{let a=z.current;if(a)return a.addEventListener(m,H),()=>a.removeEventListener(m,H)},[H]),(0,l.jsx)(u,{scope:f,orientation:g,dir:C,loop:p,currentTabStopId:D,onItemFocus:b.useCallback(a=>E(a),[E]),onItemShiftTab:b.useCallback(()=>G(!0),[]),onFocusableItemAdd:b.useCallback(()=>L(a=>a+1),[]),onFocusableItemRemove:b.useCallback(()=>L(a=>a-1),[]),children:(0,l.jsx)(h.Primitive.div,{tabIndex:F||0===K?-1:0,"data-orientation":g,...y,ref:A,style:{outline:"none",...a.style},onMouseDown:(0,c.composeEventHandlers)(a.onMouseDown,()=>{J.current=!0}),onFocus:(0,c.composeEventHandlers)(a.onFocus,a=>{let b=!J.current;if(a.target===a.currentTarget&&b&&!F){let b=new CustomEvent(m,n);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=I().filter(a=>a.focusable);B([a.find(a=>a.active),a.find(a=>a.id===D),...a].filter(Boolean).map(a=>a.ref.current),x)}}J.current=!1}),onBlur:(0,c.composeEventHandlers)(a.onBlur,()=>G(!1))})})}),y="RovingFocusGroupItem",z=b.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:e,focusable:f=!0,active:i=!1,tabStopId:j,children:k,...m}=a,n=(0,g.useId)(),o=j||n,r=v(y,e),s=r.currentTabStopId===o,t=q(e),{onFocusableItemAdd:u,onFocusableItemRemove:w,currentTabStopId:x}=r;return b.useEffect(()=>{if(f)return u(),()=>w()},[f,u,w]),(0,l.jsx)(p.ItemSlot,{scope:e,id:o,focusable:f,active:i,children:(0,l.jsx)(h.Primitive.span,{tabIndex:s?0:-1,"data-orientation":r.orientation,...m,ref:d,onMouseDown:(0,c.composeEventHandlers)(a.onMouseDown,a=>{f?r.onItemFocus(o):a.preventDefault()}),onFocus:(0,c.composeEventHandlers)(a.onFocus,()=>r.onItemFocus(o)),onKeyDown:(0,c.composeEventHandlers)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void r.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return A[e]}(a,r.orientation,r.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=t().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=r.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>B(e))}}),children:"function"==typeof k?k({isCurrentTabStop:s,hasTabStop:null!=x}):k})})});z.displayName=y;var A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}a.s(["Item",()=>z,"Root",()=>w,"createRovingFocusGroupScope",()=>t])},30863,a=>{"use strict";let b=(0,a.i(35520).default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["CircleIcon",()=>b],30863)},38706,a=>{"use strict";var b=a.i(56856),c=a.i(56033);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},78137,a=>{"use strict";var b=a.i(56856),c=a.i(55132),d=a.i(50960),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(56033);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],78137)},13572,a=>{"use strict";let b,c,d,e,f;a.s([],74308);let g="u">typeof globalThis?globalThis.Buffer:void 0,h=null!=g&&"function"==typeof g.from,i=new Int8Array(256).fill(-1);for(let a=0;a<10;a++)i[48+a]=a;for(let a=0;a<6;a++)i[65+a]=10+a,i[97+a]=10+a;class j{static zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];static groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];static groupBases=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];static wordSize=26;static WORD_SIZE_BIGINT=BigInt(j.wordSize);static WORD_MASK=(1n<<j.WORD_SIZE_BIGINT)-1n;static MAX_SAFE_INTEGER_BIGINT=BigInt(Number.MAX_SAFE_INTEGER);static MIN_SAFE_INTEGER_BIGINT=BigInt(Number.MIN_SAFE_INTEGER);static MAX_IMULN_ARG=0x3ffffff;static MAX_NUMBER_CONSTRUCTOR_MAG_BIGINT=(1n<<53n)-1n;_magnitude;_sign;_nominalWordLength;red;get negative(){return this._sign}set negative(a){this.assert(0===a||1===a,"Negative property must be 0 or 1"),0n===this._magnitude?this._sign=0:this._sign=+(1===a)}get _computedWordsArray(){if(0n===this._magnitude)return[0];let a=[],b=this._magnitude;for(;b>0n;)a.push(Number(b&j.WORD_MASK)),b>>=j.WORD_SIZE_BIGINT;return a.length>0?a:[0]}get words(){let a=this._computedWordsArray;if(this._nominalWordLength<=a.length)return a;let b=Array(this._nominalWordLength).fill(0);for(let c=0;c<a.length;c++)b[c]=a[c];return b}set words(a){let b=this._sign,c=0n,d=a.length>0?a.length:1;for(let b=d-1;b>=0;b--){let d=void 0===a[b]?0:a[b];c=c<<j.WORD_SIZE_BIGINT|BigInt(d&Number(j.WORD_MASK))}this._magnitude=c,this._sign=b,this._nominalWordLength=d,this.normSign()}get length(){return Math.max(1,this._nominalWordLength)}static isBN(a){return a instanceof j||null!==a&&"object"==typeof a&&a.constructor?.wordSize===j.wordSize&&Array.isArray(a.words)}static max(a,b){return a.cmp(b)>0?a:b}static min(a,b){return 0>a.cmp(b)?a:b}constructor(a=0,b=10,c="be"){if(this._magnitude=0n,this._sign=0,this._nominalWordLength=1,this.red=null,void 0===a&&(a=0),null===a)return void this._initializeState(0n,0);if("bigint"==typeof a){this._initializeState(a<0n?-a:a,+(a<0n)),this.normSign();return}let d=b,e=c;if(("le"===b||"be"===b)&&(e=b,d=10),"number"==typeof a)return void this.initNumber(a,e);if(Array.isArray(a))return void this.initArray(a,e);if("string"==typeof a){"hex"===d&&(d=16),this.assert("number"==typeof d&&d===(0|d)&&d>=2&&d<=36,"Base must be an integer between 2 and 36");const b=a.toString().replace(/\s+/g,"");let c=0,f=0;b.startsWith("-")?(c++,f=1):b.startsWith("+")&&c++;const g=b.substring(c);if(0===g.length){this._initializeState(0n,1===f&&b.startsWith("-")?1:0),this.normSign();return}if(16===d){let a;if("le"===e){const a=[];let b=g;b.length%2!=0&&(b="0"+b);for(let c=0;c<b.length;c+=2){const d=parseInt(b.substring(c,c+2),16);if(isNaN(d))throw Error("Invalid character in "+b);a.push(d)}this.initArray(a,"le"),this._sign=f,this.normSign();return}try{a=BigInt("0x"+g)}catch(a){throw Error("Invalid character in "+g)}this._initializeState(a,f),this.normSign()}else try{if(this._parseBaseString(g,d),this._sign=f,this.normSign(),"le"===e){const a=this._sign;this.initArray(this.toArray("be"),"le"),this._sign=a,this.normSign()}}catch(a){if(a.message.includes("Invalid character in string")||a.message.includes("Invalid digit for base")||a.message.startsWith("Invalid character:"))throw Error("Invalid character");throw a}}else 0!==a?this.assert(!1,"Unsupported input type for BigNumber constructor"):this._initializeState(0n,0)}_bigIntToStringInBase(a,b){if(0n===a)return"0";if(b<2||b>36)throw Error("Base must be between 2 and 36");let c="",d=a>0n?a:-a,e=BigInt(b);for(;d>0n;)c="0123456789abcdefghijklmnopqrstuvwxyz"[Number(d%e)]+c,d/=e;return c}_parseBaseString(a,b){if(0===a.length){this._magnitude=0n,this._finishInitialization();return}this._magnitude=0n;let c=BigInt(b),d=j.groupSizes[b],e=BigInt(j.groupBases[b]);(0===d||0n===e)&&(0===(d=Math.floor(Math.log(0x3ffffff)/Math.log(b)))&&(d=1),e=c**BigInt(d));let f=0,g=a.length,h=g%d;if(0===h&&g>0&&(h=d),h>0){let c=a.substring(f,f+h);this._magnitude=BigInt(this._parseBaseWord(c,b)),f+=h}for(;f<g;){let c=a.substring(f,f+d),g=BigInt(this._parseBaseWord(c,b));this._magnitude=this._magnitude*e+g,f+=d}this._finishInitialization()}_parseBaseWord(a,b){let c=0;for(let d=0;d<a.length;d++){let e,f=a.charCodeAt(d);if(f>=48&&f<=57)e=f-48;else if(f>=65&&f<=90)e=f-65+10;else if(f>=97&&f<=122)e=f-97+10;else throw Error("Invalid character: "+a[d]);if(e>=b)throw Error("Invalid character");c=c*b+e}return c}_initializeState(a,b){this._magnitude=a,this._sign=0n===a?0:b,this._finishInitialization()}_finishInitialization(){if(0n===this._magnitude)this._nominalWordLength=1,this._sign=0;else{let a=this._magnitude.toString(2).length;this._nominalWordLength=Math.max(1,Math.ceil(a/j.wordSize))}}assert(a,b="Assertion failed"){if(!a)throw Error(b)}initNumber(a,b="be"){if(this.assert(BigInt(Math.abs(a))<=j.MAX_NUMBER_CONSTRUCTOR_MAG_BIGINT,"The number is larger than 2 ^ 53 (unsafe)"),this.assert(a%1==0,"Number must be an integer for BigNumber conversion"),this._initializeState(BigInt(Math.abs(a)),+(a<0)),"le"===b){let a=this._sign,b=this.toArray("be");this.initArray(b,"le"),this._sign=a,this.normSign()}return this}initArray(a,b){if(0===a.length)return this._initializeState(0n,0),this;let c=0n;if("be"===b)for(let b=0;b<a.length;b++)c=c<<8n|BigInt(255&a[b]);else for(let b=a.length-1;b>=0;b--)c=c<<8n|BigInt(255&a[b]);return this._initializeState(c,0),this}copy(a){a._magnitude=this._magnitude,a._sign=this._sign,a._nominalWordLength=this._nominalWordLength,a.red=this.red}static move(a,b){a._magnitude=b._magnitude,a._sign=b._sign,a._nominalWordLength=b._nominalWordLength,a.red=b.red}clone(){let a=new j(0n);return this.copy(a),a}expand(a){return this.assert(a>=0,"Expand size must be non-negative"),this._nominalWordLength=Math.max(this._nominalWordLength,a,1),this}strip(){return this._finishInitialization(),this.normSign()}normSign(){return 0n===this._magnitude&&(this._sign=0),this}inspect(){return(null!==this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}_getMinimalHex(){return 0n===this._magnitude?"0":this._magnitude.toString(16)}toString(a=10,b=1){if(16===a||"hex"===a){let a=this._getMinimalHex();if(b>1)for("0"!==a&&a.length%2!=0&&(a="0"+a);a.length%b!=0;)a="0"+a;return(this.isNeg()?"-":"")+a}if("number"!=typeof a||a<2||a>36||a%1!=0)throw Error("Base should be an integer between 2 and 36");return this.toBaseString(a,b)}toBaseString(a,b){if(0n===this._magnitude){let a="0";if(b>1)for(;a.length<b;)a="0"+a;return a}let c=j.groupSizes[a],d=BigInt(j.groupBases[a]);(0===c||0n===d)&&(0===(c=Math.floor(Math.log(Number.MAX_SAFE_INTEGER)/Math.log(a)))&&(c=1),d=BigInt(a)**BigInt(c));let e="",f=this._magnitude;for(;f>0n;){let b=f%d;f/=d;let g=this._bigIntToStringInBase(b,a);if(f>0n){let a=c-g.length;e=a>0&&a<j.zeros.length?j.zeros[a]+g+e:a>0?"0".repeat(a)+g+e:g+e}else e=g+e}if(b>0)for(;e.length<b;)e="0"+e;return(1===this._sign?"-":"")+e}toNumber(){let a=this._getSignedValue();if(a>j.MAX_SAFE_INTEGER_BIGINT||a<j.MIN_SAFE_INTEGER_BIGINT)throw Error("Number can only safely store up to 53 bits");return Number(a)}toBigInt(){return this._getSignedValue()}toJSON(){let a=this._getMinimalHex();return(this.isNeg()?"-":"")+a}toArrayLikeGeneric(a,b){let c=this._magnitude,d=b?0:a.length-1,e=b?1:-1;for(let b=0;b<a.length;++b){if(0n===c&&d>=0&&d<a.length)a[d]=0;else if(d>=0&&d<a.length)a[d]=Number(255n&c);else break;c>>=8n,d+=e}}toArray(a="be",b){this.strip();let c=this.byteLength(),d=b??Math.max(1,c);this.assert(c<=d,"byte array longer than desired length"),this.assert(d>0,"Requested array length <= 0");let e=Array(d).fill(0);return 0n===this._magnitude&&d>0?e:0n===this._magnitude&&0===d?[]:(this.toArrayLikeGeneric(e,"le"===a),e)}bitLength(){return 0n===this._magnitude?0:this._magnitude.toString(2).length}static toBitArray(a){let b=a.bitLength();if(0===b)return[];let c=Array(b),d=a._magnitude;for(let a=0;a<b;a++)c[a]=+((d>>BigInt(a)&1n)!==0n);return c}toBitArray(){return j.toBitArray(this)}zeroBits(){if(0n===this._magnitude)return 0;let a=0,b=this._magnitude;for(;(1n&b)===0n&&0n!==b;)a++,b>>=1n;return a}byteLength(){return 0n===this._magnitude?0:Math.ceil(this.bitLength()/8)}_getSignedValue(){return 1===this._sign?-this._magnitude:this._magnitude}_setValueFromSigned(a){a<0n?(this._magnitude=-a,this._sign=1):(this._magnitude=a,this._sign=0),this._finishInitialization(),this.normSign()}toTwos(a){this.assert(a>=0);let b=BigInt(a),c=this._getSignedValue();1===this._sign&&0n!==this._magnitude&&(c=(1n<<b)+c),c&=(1n<<b)-1n;let d=new j(0n);return d._initializeState(c,0),d}fromTwos(a){this.assert(a>=0);let b=BigInt(a),c=this._magnitude;if(a>0&&(c>>b-1n&1n)!==0n&&0===this._sign){let a=new j(0n);return a._setValueFromSigned(c-(1n<<b)),a}return this.clone()}isNeg(){return 1===this._sign&&0n!==this._magnitude}neg(){return this.clone().ineg()}ineg(){return 0n!==this._magnitude&&(this._sign=+(1!==this._sign)),this}_iuop(a,b){let c=b(this._magnitude,a._magnitude),d=b===((a,b)=>a^b),e=this._nominalWordLength;return d&&(e=Math.max(this.length,a.length)),this._magnitude=c,this._finishInitialization(),d&&(this._nominalWordLength=Math.max(this._nominalWordLength,e)),this.strip()}iuor(a){return this._iuop(a,(a,b)=>a|b)}iuand(a){return this._iuop(a,(a,b)=>a&b)}iuxor(a){return this._iuop(a,(a,b)=>a^b)}_iop(a,b){return this.assert(0===this._sign&&0===a._sign),this._iuop(a,b)}ior(a){return this._iop(a,(a,b)=>a|b)}iand(a){return this._iop(a,(a,b)=>a&b)}ixor(a){return this._iop(a,(a,b)=>a^b)}_uop_new(a,b){return this.length>=a.length?this.clone()[b](a):a.clone()[b](this)}or(a){return this.assert(0===this._sign&&0===a._sign),this._uop_new(a,"iuor")}uor(a){return this._uop_new(a,"iuor")}and(a){return this.assert(0===this._sign&&0===a._sign),this._uop_new(a,"iuand")}uand(a){return this._uop_new(a,"iuand")}xor(a){return this.assert(0===this._sign&&0===a._sign),this._uop_new(a,"iuxor")}uxor(a){return this._uop_new(a,"iuxor")}inotn(a){this.assert("number"==typeof a&&a>=0);let b=BigInt(a);this._magnitude=~this._magnitude&(1n<<b)-1n;let c=0===a?1:Math.ceil(a/j.wordSize);return this._nominalWordLength=Math.max(1,c),this.strip(),this._nominalWordLength=Math.max(this._nominalWordLength,Math.max(1,c)),this}notn(a){return this.clone().inotn(a)}setn(a,b){this.assert("number"==typeof a&&a>=0);let c=BigInt(a);1===b||!0===b?this._magnitude|=1n<<c:this._magnitude&=~(1n<<c);let d=Math.floor(a/j.wordSize)+1;return this._nominalWordLength=Math.max(this._nominalWordLength,d),this._finishInitialization(),this.strip()}iadd(a){return this._setValueFromSigned(this._getSignedValue()+a._getSignedValue()),this}add(a){let b=new j(0n);return b._setValueFromSigned(this._getSignedValue()+a._getSignedValue()),b}isub(a){return this._setValueFromSigned(this._getSignedValue()-a._getSignedValue()),this}sub(a){let b=new j(0n);return b._setValueFromSigned(this._getSignedValue()-a._getSignedValue()),b}mul(a){let b=new j(0n);return b._magnitude=this._magnitude*a._magnitude,b._sign=0n===b._magnitude?0:this._sign^a._sign,b._nominalWordLength=this.length+a.length,b.red=null,b.normSign()}imul(a){return this._magnitude*=a._magnitude,this._sign=0n===this._magnitude?0:this._sign^a._sign,this._nominalWordLength=this.length+a.length,this.red=null,this.normSign()}imuln(a){return this.assert("number"==typeof a,"Assertion failed"),this.assert(Math.abs(a)<=j.MAX_IMULN_ARG,"Assertion failed"),this._setValueFromSigned(this._getSignedValue()*BigInt(a)),this}muln(a){return this.clone().imuln(a)}sqr(){let a=new j(0n);return a._magnitude=this._magnitude*this._magnitude,a._sign=0,a._nominalWordLength=2*this.length,a.red=null,a}isqr(){return this._magnitude*=this._magnitude,this._sign=0,this._nominalWordLength=2*this.length,this.red=null,this}pow(a){if(this.assert(0===a._sign,"Exponent for pow must be non-negative"),a.isZero())return new j(1n);let b=new j(1n),c=this.clone(),d=a.clone(),e=c.isNeg(),f=d.isOdd();for(e&&c.ineg();!d.isZero();)d.isOdd()&&b.imul(c),c.isqr(),d.iushrn(1);return e&&f&&b.ineg(),b}static normalizeNonNegativeBigInt(a,b){if("number"==typeof a){if(!Number.isFinite(a)||!Number.isInteger(a)||a<0)throw Error(`${b} must be a non-negative integer`);return BigInt(a)}if(a<0n)throw Error(`${b} must be a non-negative integer`);return a}iushln(a){let b=j.normalizeNonNegativeBigInt(a,"Shift bits");return 0n===b?this:(this._magnitude<<=b,this._finishInitialization(),this.strip())}ishln(a){return this.assert(0===this._sign,"ishln requires positive number"),this.iushln(a)}iushrn(a,b,c){let d=j.normalizeNonNegativeBigInt(a,"Shift bits");if(0n===d)return null!=c&&c._initializeState(0n,0),this;if(null!=c){let a=this._magnitude&(1n<<d)-1n;c._initializeState(a,0)}return this._magnitude>>=d,this._finishInitialization(),this.strip()}ishrn(a,b,c){return this.assert(0===this._sign,"ishrn requires positive number"),this.iushrn(a,b,c)}shln(a){return this.clone().ishln(a)}ushln(a){return this.clone().iushln(a)}shrn(a){return this.clone().ishrn(a)}ushrn(a){return this.clone().iushrn(a)}testn(a){return this.assert("number"==typeof a&&a>=0),(this._magnitude>>BigInt(a)&1n)!==0n}imaskn(a){this.assert("number"==typeof a&&a>=0),this.assert(0===this._sign,"imaskn works only with positive numbers");let b=BigInt(a);this._magnitude&=0n===b?0n:(1n<<b)-1n;let c=0===a?1:Math.max(1,Math.ceil(a/j.wordSize));return this._nominalWordLength=c,this._finishInitialization(),this._nominalWordLength=Math.max(this._nominalWordLength,c),this.strip()}maskn(a){return this.clone().imaskn(a)}iaddn(a){return this.assert("number"==typeof a),this.assert(Math.abs(a)<=j.MAX_IMULN_ARG,"num is too large"),this._setValueFromSigned(this._getSignedValue()+BigInt(a)),this}_iaddn(a){return this.iaddn(a)}isubn(a){return this.assert("number"==typeof a),this.assert(Math.abs(a)<=j.MAX_IMULN_ARG,"Assertion failed"),this._setValueFromSigned(this._getSignedValue()-BigInt(a)),this}addn(a){return this.clone().iaddn(a)}subn(a){return this.clone().isubn(a)}iabs(){return this._sign=0,this}abs(){return this.clone().iabs()}divmod(a,b,c){if(this.assert(!a.isZero(),"Division by zero"),this.isZero()){let a=new j(0n);return{div:"mod"!==b?a:null,mod:"div"!==b?a:null}}let d=this._getSignedValue(),e=a._getSignedValue(),f=null,g=null;"mod"!==b&&(f=d/e),"div"!==b&&(g=d%e,!0===c&&g<0n&&(g+=e<0n?-e:e));let h=null!==f?new j(0n):null;null!==h&&null!==f&&h._setValueFromSigned(f);let i=null!==g?new j(0n):null;return null!==i&&null!==g&&i._setValueFromSigned(g),{div:h,mod:i}}div(a){return this.divmod(a,"div",!1).div}mod(a){return this.divmod(a,"mod",!1).mod}umod(a){return this.divmod(a,"mod",!0).mod}divRound(a){this.assert(!a.isZero());let b=this._getSignedValue(),c=a._getSignedValue(),d=b/c,e=b%c;if(0n===e){let a=new j(0n);return a._setValueFromSigned(d),a}2n*(e<0n?-e:e)>=(c<0n?-c:c)&&(b>0n&&c>0n||b<0n&&c<0n?d+=1n:d-=1n);let f=new j(0n);return f._setValueFromSigned(d),f}modrn(a){this.assert(0!==a,"Division by zero in modrn");let b=BigInt(Math.abs(a));if(0n===b)throw Error("Division by zero in modrn");let c=this._magnitude%b;return a<0?Number(-c):Number(c)}idivn(a){return this.assert(0!==a),this.assert(Math.abs(a)<=j.MAX_IMULN_ARG,"num is too large"),this._setValueFromSigned(this._getSignedValue()/BigInt(a)),this}divn(a){return this.clone().idivn(a)}egcd(a){this.assert(0===a._sign,"p must not be negative"),this.assert(!a.isZero(),"p must not be zero");let b=this._getSignedValue(),c=a._magnitude,d=1n,e=0n,f=0n,g=1n;for(;0n!==c;){let a=b/c,h=c;c=b%c,b=h,h=e,e=d-a*e,d=h,h=g,g=f-a*g,f=h}let h=new j(0n);h._setValueFromSigned(d);let i=new j(0n);i._setValueFromSigned(f);let k=new j(0n);return k._initializeState(b<0n?-b:b,0),{a:h,b:i,gcd:k}}gcd(a){let b=this._magnitude,c=a._magnitude;if(0n===b){let a=new j(0n);return a._setValueFromSigned(c),a.iabs()}if(0n===c){let a=new j(0n);return a._setValueFromSigned(b),a.iabs()}for(;0n!==c;){let a=b%c;b=c,c=a}let d=new j(0n);return d._initializeState(b,0),d}invm(a){this.assert(!a.isZero()&&0===a._sign,"Modulus for invm must be positive and non-zero");let b=this.egcd(a);if(!b.gcd.eqn(1))throw Error("Inverse does not exist (numbers are not coprime).");return b.a.umod(a)}isEven(){return this._magnitude%2n===0n}isOdd(){return this._magnitude%2n===1n}andln(a){return this.assert(a>=0),Number(this._magnitude&BigInt(a))}bincn(a){this.assert("number"==typeof a&&a>=0);let b=1n<<BigInt(a);return this._setValueFromSigned(this._getSignedValue()+b),this}isZero(){return 0n===this._magnitude}cmpn(a){this.assert(Math.abs(a)<=j.MAX_IMULN_ARG,"Number is too big");let b=this._getSignedValue(),c=BigInt(a);return b<c?-1:+(b>c)}cmp(a){let b=this._getSignedValue(),c=a._getSignedValue();return b<c?-1:+(b>c)}ucmp(a){return this._magnitude<a._magnitude?-1:+(this._magnitude>a._magnitude)}gtn(a){return 1===this.cmpn(a)}gt(a){return 1===this.cmp(a)}gten(a){return this.cmpn(a)>=0}gte(a){return this.cmp(a)>=0}ltn(a){return -1===this.cmpn(a)}lt(a){return -1===this.cmp(a)}lten(a){return 0>=this.cmpn(a)}lte(a){return 0>=this.cmp(a)}eqn(a){return 0===this.cmpn(a)}eq(a){return 0===this.cmp(a)}toRed(a){return this.assert(null==this.red,"Already a number in reduction context"),this.assert(0===this._sign,"toRed works only with positives"),a.convertTo(this).forceRed(a)}fromRed(){return this.assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)}forceRed(a){return this.red=a,this}redAdd(a){return this.assert(this.red,"redAdd works only with red numbers"),this.red.add(this,a)}redIAdd(a){return this.assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)}redSub(a){return this.assert(this.red,"redSub works only with red numbers"),this.red.sub(this,a)}redISub(a){return this.assert(this.red,"redISub works only with red numbers"),this.red.isub(this,a)}redShl(a){return this.assert(this.red,"redShl works only with red numbers"),this.red.shl(this,a)}redMul(a){return this.assert(this.red,"redMul works only with red numbers"),this.red.verify2(this,a),this.red.mul(this,a)}redIMul(a){return this.assert(this.red,"redIMul works only with red numbers"),this.red.verify2(this,a),this.red.imul(this,a)}redSqr(){return this.assert(this.red,"redSqr works only with red numbers"),this.red.verify1(this),this.red.sqr(this)}redISqr(){return this.assert(this.red,"redISqr works only with red numbers"),this.red.verify1(this),this.red.isqr(this)}redSqrt(){return this.assert(this.red,"redSqrt works only with red numbers"),this.red.verify1(this),this.red.sqrt(this)}redInvm(){return this.assert(this.red,"redInvm works only with red numbers"),this.red.verify1(this),this.red.invm(this)}redNeg(){return this.assert(this.red,"redNeg works only with red numbers"),this.red.verify1(this),this.red.neg(this)}redPow(a){return this.assert(null!=this.red&&null==a.red,"redPow(normalNum)"),this.red.verify1(this),this.red.pow(this,a)}static fromHex(a,b){let c="be";return("little"===b||"le"===b)&&(c="le"),new j(a,16,c)}toHex(a=0){if(this.isZero()&&0===a)return"";let b=this._getMinimalHex();"0"!==b&&b.length%2!=0&&(b="0"+b);let c=2*a;for(;b.length<c;)b="0"+b;return(this.isNeg()?"-":"")+b}static fromJSON(a){return new j(a,16)}static fromNumber(a){return new j(a)}static fromString(a,b){return new j(a,b)}static fromSm(a,b="big"){if(0===a.length)return new j(0n);let c=a.slice();"little"===b&&c.reverse();let d=0;c.length>0&&(128&c[0])!=0&&(d=1,c[0]&=127);let e=0n;if(h){let a=g.from(c).toString("hex");e=0===a.length?0n:BigInt("0x"+a)}else{let a="";for(let b of c)a+=b<16?"0"+b.toString(16):b.toString(16);e=0===a.length?0n:BigInt("0x"+a)}let f=new j(0n);return f._initializeState(e,d),f}toSm(a="big"){let b;if(0n===this._magnitude)return 1===this._sign?[128]:[];let c=this._getMinimalHex();c.length%2!=0&&(c="0"+c);let d=Array(c.length/2);for(let a=0,b=0;a<c.length;a+=2){let e=i[c.charCodeAt(a)],f=i[c.charCodeAt(a+1)];d[b++]=(15&e)<<4|15&f}return 1===this._sign?(128&d[0])!=0?b=[128,...d]:(b=d.slice(),b[0]|=128):b=(128&d[0])!=0?[0,...d]:d.slice(),"little"===a?b.reverse():b}static fromBits(a,b=!1){let c=a>>>24,d=8388607&a,e=(8388608&a)!=0;if(b&&e)throw Error("negative bit set");if(0===c&&0===d){if(e&&b)throw Error("negative bit set for zero value");return new j(0n)}let f=new j(d);return c<=3?f.iushrn((3-c)*8):f.iushln((c-3)*8),e&&f.ineg(),f}toBits(){let a;if(this.strip(),this.isZero()&&!this.isNeg())return 0;let b=this.isNeg(),c=this.abs(),d=c.toArray("be"),e=0;for(;e<d.length-1&&0===d[e];)e++;let f=(d=d.slice(e)).length;if(0!==f||c.isZero()||(d=[0],f=1),c.isZero()&&(f=0,d=[]),0===f)a=0;else if(f<=3){a=0;for(let b=0;b<f;b++)a=a<<8|d[b]}else a=d[0]<<16|d[1]<<8|d[2];(8388608&a)!=0&&f<=255&&(a>>>=8,f++);let g=f<<24|a;return b&&(g|=8388608),g>>>0}static fromScriptNum(a,b=!1,c){if(void 0!==c&&a.length>c)throw Error("script number overflow");if(0===a.length)return new j(0n);if(b&&(127&a[a.length-1])==0&&(a.length<=1||(128&a[a.length-2])==0))throw Error("non-minimally encoded script number");return j.fromSm(a,"little")}toScriptNum(){return this.toSm("little")}_invmp(a){this.assert(0===a._sign,"p must not be negative for _invmp"),this.assert(!a.isZero(),"p must not be zero for _invmp");let b=this.umod(a),c=a.subn(2);if(null!==b.red)return b.redPow(c);let d=new j(1n),e=b.clone(),f=c.clone();for(;!f.isZero();)f.isOdd()&&(d=d.mul(e).umod(a)),e=e.sqr().umod(a),f.iushrn(1);return d}mulTo(a,b){return b._magnitude=this._magnitude*a._magnitude,b._sign=0n===b._magnitude?0:this._sign^a._sign,b._nominalWordLength=this.length+a.length,b.red=null,b.normSign(),b}}class k{name;p;k;n;tmp;constructor(a,b){this.name=a,this.p=new j(b,16),this.n=this.p.bitLength(),this.k=new j(BigInt(1)).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_tmp(){let a=new j(BigInt(0)),b=Math.ceil(this.n/j.wordSize);return a.expand(Math.max(1,b)),a}ireduce(a){let b;do this.split(a,this.tmp),this.imulK(a),a.iadd(this.tmp),b=a.bitLength();while(b>this.n)let c=b<this.n?-1:a.ucmp(this.p);return 0===c?a.words=[0]:c>0&&a.isub(this.p),a.strip(),a}split(a,b){a.iushrn(this.n,0,b)}imulK(a){return a.imul(this.k)}}class l extends k{constructor(){super("k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}split(a,b){let c=a.words,d=a.length,e=Math.min(d,9),f=Array(e+ +(d>9)).fill(0);for(let a=0;a<e;a++)f[a]=c[a];let g=e;if(d<=9){let c=Array(g);for(let a=0;a<g;++a)c[a]=f[a];b.words=c,a.words=[0];return}let h=c[9];f[g++]=4194303&h;let i=Array(g);for(let a=0;a<g;++a)i[a]=f[a];b.words=i;let j=Array(Math.max(1,d-9)).fill(0),k=0;for(let a=10;a<d;a++){let b=0|c[a];k<j.length&&(j[k++]=(4194303&b)<<4|h>>>22),h=b}h>>>=22,k<j.length?j[k++]=h:0!==h&&j.length;let l=Array(k);for(let a=0;a<k;++a)l[a]=j[a];a.words=l}imulK(a){let b=a.words,c=a.length,d=c+2,e=Array(d).fill(0);for(let a=0;a<c;a++)e[a]=b[a];let f=0;for(let a=0;a<d;a++){let b=0|e[a];f+=977*b,e[a]=0x3ffffff&f,f=64*b+(f/0x4000000|0)}return a.words=e,a}}class m{prime;m;constructor(a){if("k256"===a){const a=new l;this.m=a.p,this.prime=a}else this.assert(a.gtn(1),"modulus must be greater than 1"),this.m=a,this.prime=null}assert(a,b="Assertion failed"){if(!a)throw Error(b)}verify1(a){this.assert(0===a.negative,"red works only with positives"),this.assert(a.red,"red works only with red numbers")}verify2(a,b){this.assert((a.negative|b.negative)==0,"red works only with positives"),this.assert(null!=a.red&&a.red===b.red,"red works only with red numbers")}imod(a){return null!=this.prime?this.prime.ireduce(a).forceRed(this):(j.move(a,a.umod(this.m).forceRed(this)),a)}neg(a){return a.isZero()?a.clone():this.m.sub(a).forceRed(this)}add(a,b){this.verify2(a,b);let c=a.clone();return c.iadd(b),c.isub(this.m),c.isNeg()&&c.iadd(this.m),c}iadd(a,b){return this.verify2(a,b),a.iadd(b),a.isub(this.m),a.isNeg()&&a.iadd(this.m),a}sub(a,b){this.verify2(a,b);let c=a.sub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c.forceRed(this)}isub(a,b){this.verify2(a,b);let c=a.isub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c}shl(a,b){return this.verify1(a),this.imod(a.ushln(b))}imul(a,b){return this.verify2(a,b),this.imod(a.imul(b))}mul(a,b){return this.verify2(a,b),this.imod(a.mul(b))}isqr(a){return this.imul(a,a.clone())}sqr(a){return this.mul(a,a)}sqrt(a){if(a.isZero())return a.clone();let b=this.m.andln(3);if(this.assert(b%2==1),3===b){let b=this.m.add(new j(1)).iushrn(2);return this.pow(a,b)}let c=this.m.subn(1),d=0;for(;!c.isZero()&&0===c.andln(1);)d++,c.iushrn(1);this.assert(!c.isZero());let e=new j(1).toRed(this),f=e.redNeg(),g=this.m.subn(1).iushrn(1),h=this.m.bitLength(),i=new j(2*h*h).toRed(this);for(;0!==this.pow(i,g).cmp(f);)i.redIAdd(f);let k=this.pow(i,c),l=this.pow(a,c.addn(1).iushrn(1)),m=this.pow(a,c),n=d;for(;0!==m.cmp(e);){let a=m,b=0;for(;0!==a.cmp(e);b++)a=a.redSqr();this.assert(b<n);let c=this.pow(k,new j(1).iushln(n-b-1));l=l.redMul(c),k=c.redSqr(),m=m.redMul(k),n=b}return l}invm(a){let b=a._invmp(this.m);return 0!==b.negative?(b.negative=0,this.imod(b).redNeg()):this.imod(b)}pow(a,b){if(this.verify1(a),b.isZero())return new j(1).toRed(this);let c=new j(1).toRed(this),d=a.clone(),e=b.bitLength();for(let a=e-1;a>=0;a--)c=this.sqr(c),b.testn(a)&&(c=this.mul(c,d));return c}convertTo(a){let b=a.umod(this.m);return b===a?b.clone():b}convertFrom(a){let b=a.clone();return b.red=null,b}}class n extends m{shift;r;r2;rinv;minv;constructor(a){super(a),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new j(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}convertTo(a){return this.imod(a.ushln(this.shift))}convertFrom(a){let b=this.imod(a.mul(this.rinv));return b.red=null,b}imul(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;let c=a.imul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),f=e;return e.cmp(this.m)>=0?f=e.isub(this.m):0>e.cmpn(0)&&(f=e.iadd(this.m)),f.forceRed(this)}mul(a,b){if(a.isZero()||b.isZero())return new j(0).forceRed(this);let c=a.mul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),f=e;return e.cmp(this.m)>=0?f=e.isub(this.m):0>e.cmpn(0)&&(f=e.iadd(this.m)),f.forceRed(this)}invm(a){return this.imod(a._invmp(this.m).mul(this.r2)).forceRed(this)}}class o{curve;type;precomputed;constructor(a){this.curve=new bs,this.type=a,this.precomputed=null}}class p extends o{x;y;z;zOne;constructor(a,b,c){super("jacobian"),null===a&&null===b&&null===c?(this.x=this.curve.one,this.y=this.curve.one,this.z=new j(0)):(j.isBN(a)||(a=new j(a,16)),this.x=a,j.isBN(b)||(b=new j(b,16)),this.y=b,j.isBN(c)||(c=new j(c,16)),this.z=c),null==this.x.red&&(this.x=this.x.toRed(this.curve.red)),null==this.y.red&&(this.y=this.y.toRed(this.curve.red)),null==this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.isInfinity()&&(this.x=this.curve.one,this.y=this.curve.one,this.z=new j(0).toRed(this.curve.red),this.zOne=!1)}toP(){if(this.isInfinity())return new br(null,null);let a=this.z.redInvm(),b=a.redSqr();return new br(this.x.redMul(b),this.y.redMul(b).redMul(a))}neg(){return new p(this.x,this.y.redNeg(),this.z)}add(a){if(this.isInfinity())return a;if(a.isInfinity())return this;let b=a.z.redSqr(),c=this.z.redSqr(),d=this.x.redMul(b),e=a.x.redMul(c),f=this.y.redMul(b.redMul(a.z)),g=a.y.redMul(c.redMul(this.z)),h=d.redSub(e),i=f.redSub(g);if(0===h.cmpn(0))if(0!==i.cmpn(0))return new p(null,null,null);else return this.dbl();let j=h.redSqr(),k=j.redMul(h),l=d.redMul(j),m=i.redSqr().redIAdd(k).redISub(l).redISub(l),n=i.redMul(l.redISub(m)).redISub(f.redMul(k));return new p(m,n,this.z.redMul(a.z).redMul(h))}mixedAdd(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;if(null===a.x||null===a.y)throw Error("Point coordinates cannot be null");let b=this.z.redSqr(),c=this.x,d=a.x.redMul(b),e=this.y,f=a.y.redMul(b).redMul(this.z),g=c.redSub(d),h=e.redSub(f);if(0===g.cmpn(0))if(0!==h.cmpn(0))return new p(null,null,null);else return this.dbl();let i=g.redSqr(),j=i.redMul(g),k=c.redMul(i),l=h.redSqr().redIAdd(j).redISub(k).redISub(k),m=h.redMul(k.redISub(l)).redISub(e.redMul(j));return new p(l,m,this.z.redMul(g))}dblp(a){if(0===a||this.isInfinity())return this;if(void 0===a)return this.dbl();let b=this;for(let c=0;c<a;c++)b=b.dbl();return b}dbl(){let a,b,c;if(this.isInfinity())return this;if(this.zOne){let d=this.x.redSqr(),e=this.y.redSqr(),f=e.redSqr(),g=this.x.redAdd(e).redSqr().redISub(d).redISub(f);g=g.redIAdd(g);let h=d.redAdd(d).redIAdd(d),i=h.redSqr().redISub(g).redISub(g),j=f.redIAdd(f);j=(j=j.redIAdd(j)).redIAdd(j),a=i,b=h.redMul(g.redISub(i)).redISub(j),c=this.y.redAdd(this.y)}else{let d=this.x.redSqr(),e=this.y.redSqr(),f=e.redSqr(),g=this.x.redAdd(e).redSqr().redISub(d).redISub(f);g=g.redIAdd(g);let h=d.redAdd(d).redIAdd(d),i=h.redSqr(),j=f.redIAdd(f);j=(j=j.redIAdd(j)).redIAdd(j),a=i.redISub(g).redISub(g),b=h.redMul(g.redISub(a)).redISub(j),c=(c=this.y.redMul(this.z)).redIAdd(c)}return new p(a,b,c)}eq(a){if("affine"===a.type)return this.eq(a.toJ());if(this===a||this.isInfinity()&&a.isInfinity())return!0;if(this.isInfinity()!==a.isInfinity())return!1;let b=this.z.redSqr(),c=a.z.redSqr();if(0!==this.x.redMul(c).redISub(a.x.redMul(b)).cmpn(0))return!1;let d=b.redMul(this.z),e=c.redMul(a.z);return 0===this.y.redMul(e).redISub(a.y.redMul(d)).cmpn(0)}eqXToP(a){let b=this.z.redSqr(),c=a.toRed(this.curve?.red).redMul(b);if(0===this.x.cmp(c))return!0;let d=a.clone();if(null===this.curve||null==this.curve.redN)throw Error("Curve or redN is not initialized.");let e=this.curve.redN.redMul(b);for(;0>d.cmp(this.curve.p)&&(d.iadd(this.curve.n),!(d.cmp(this.curve.p)>=0));)if(c.redIAdd(e),0===this.x.cmp(c))return!0;return!1}inspect(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"}isInfinity(){return 0===this.z.cmpn(0)}}let q=/^[0-9a-fA-F]*$/;function r(a){if("string"!=typeof a)throw TypeError("Invalid hex string");if(0!==a.length&&!q.test(a))throw Error("Invalid hex string")}let s=(a,b="Hash assertion failed")=>{if(!a)throw Error(b)};class t{pending;pendingTotal;blockSize;outSize;endian;_delta8;_delta32;padLength;hmacStrength;constructor(a,b,c,d){this.pending=null,this.pendingTotal=0,this.blockSize=a,this.outSize=b,this.hmacStrength=c,this.padLength=d/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}_update(a,b){throw Error("Not implemented")}_digest(){throw Error("Not implemented")}_digestHex(){throw Error("Not implemented")}update(a,b){if(a=u(a,b),null==this.pending?this.pending=a:this.pending=this.pending.concat(a),this.pendingTotal+=a.length,this.pending.length>=this._delta8){let b=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-b,a.length),0===this.pending.length&&(this.pending=null),a=function(a,b,c,d){let e=c-0;s(e%4==0);let f=Array(e/4);for(let b=0,c=0;b<f.length;b++,c+=4){let e;e="big"===d?a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3]:a[c+3]<<24|a[c+2]<<16|a[c+1]<<8|a[c],f[b]=e>>>0}return f}(a,0,a.length-b,this.endian);for(let b=0;b<a.length;b+=this._delta32)this._update(a,b)}return this}digest(){return this.update(this._pad()),s(null===this.pending),this._digest()}digestHex(){return this.update(this._pad()),s(null===this.pending),this._digestHex()}_pad(){let a,b=this.pendingTotal;if(!Number.isSafeInteger(b)||b<0)throw Error("Message too long for this hash function");let c=this._delta8,d=c-(b+this.padLength)%c,e=Array(d+this.padLength);for(a=1,e[0]=128;a<d;a++)e[a]=0;let f=this.padLength,g=1n<<BigInt(8*f),h=8n*BigInt(b);if(h>=g)throw Error("Message too long for this hash function");if("big"===this.endian){let b=Array(f);for(let a=f-1;a>=0;a--)b[a]=Number(255n&h),h>>=8n;for(let c=0;c<f;c++)e[a++]=b[c]}else for(let b=0;b<f;b++)e[a++]=Number(255n&h),h>>=8n;return e}}function u(a,b){if(Array.isArray(a))return a.slice();if(!a)return[];let c=[];if("string"==typeof a)if("hex"!==b){let b=0;for(let f=0;f<a.length;f++){let g=a.charCodeAt(f);if(g<128)c[b++]=g;else if(g<2048)c[b++]=g>>6|192,c[b++]=63&g|128;else{var d,e;(d=a,e=f,(64512&d.charCodeAt(e))!=55296||e<0||e+1>=d.length?1:(64512&d.charCodeAt(e+1))!=56320)?c[b++]=g>>12|224:(g=65536+((1023&g)<<10)+(1023&a.charCodeAt(++f)),c[b++]=g>>18|240,c[b++]=g>>12&63|128),c[b++]=g>>6&63|128,c[b++]=63&g|128}}}else{r(a),a=function(a){if(r(a),0===a.length)return"";let b=a.toLowerCase();return b.length%2!=0&&(b="0"+b),b}(a);for(let b=0;b<a.length;b+=2)c.push(parseInt(a[b]+a[b+1],16))}else for(let b=0;b<a.length;b++)c[b]=0|a[b];return c}function v(a){return aK(a)}function w(a,b){let c="";for(let d=0;d<a.length;d++){let e=a[d];"little"===b&&(e=aK(e)),c+=function(a){if(7===a.length)return"0"+a;if(6===a.length)return"00"+a;if(5===a.length)return"000"+a;if(4===a.length)return"0000"+a;if(3===a.length)return"00000"+a;else if(2===a.length)return"000000"+a;else if(1===a.length)return"0000000"+a;else return a}(e.toString(16))}return c}function x(a){let b="";for(let c of a)b+=c.toString(16).padStart(2,"0");return b}function y(a,b){let c=Array(4*a.length);for(let d=0,e=0;d<a.length;d++,e+=4){let f=a[d];"big"===b?(c[e]=f>>>24,c[e+1]=f>>>16&255,c[e+2]=f>>>8&255,c[e+3]=255&f):(c[e+3]=f>>>24,c[e+2]=f>>>16&255,c[e+1]=f>>>8&255,c[e]=255&f)}return c}function z(a,b){return a>>>b|a<<32-b}function A(a,b){return a<<b|a>>>32-b}function B(a,b){return a+b>>>0}let C=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],D=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],E=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],F=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function G(a,b,c,d){return a<=15?b^c^d:a<=31?b&c|~b&d:a<=47?(b|~c)^d:a<=63?b&d|c&~d:b^(c|~d)}class H extends t{h;constructor(){super(512,160,192,64),this.endian="little",this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}_update(a,b){var c,d,e,f,g,h;let i,j=this.h[0],k=this.h[1],l=this.h[2],m=this.h[3],n=this.h[4],o=j,p=k,q=l,r=m,s=n;for(let t=0;t<80;t++){i=B(A((c=j,d=G(t,k,l,m),c+d+a[C[t]+b]+((g=t)<=15?0:g<=31?0x5a827999:g<=47?0x6ed9eba1:g<=63?0x8f1bbcdc:0xa953fd4e)>>>0),E[t]),n),j=n,n=m,m=A(l,10),l=k,k=i,i=B(A((e=o,f=G(79-t,p,q,r),e+f+a[D[t]+b]+((h=t)<=15?0x50a28be6:h<=31?0x5c4dd124:h<=47?0x6d703ef3:0x7a6d76e9*!!(h<=63))>>>0),F[t]),s),o=s,s=r,r=A(q,10),q=p,p=i}i=this.h[1]+l+r>>>0,this.h[1]=this.h[2]+m+s>>>0,this.h[2]=this.h[3]+n+o>>>0,this.h[3]=this.h[4]+j+p>>>0,this.h[4]=this.h[0]+k+q>>>0,this.h[0]=i}_digest(){return y(this.h,"little")}_digestHex(){return w(this.h,"little")}}class I{h;constructor(){this.h=new ax}update(a,b){let c=a instanceof Uint8Array?a:Uint8Array.from(u(a,b));return this.h.update(c),this}digest(){return Array.from(this.h.digest())}digestHex(){return x(this.h.digest())}}class J extends t{h;W;k;constructor(){super(512,160,80,64),this.k=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}_update(a,b){let c,d=this.W;for(void 0===b&&(b=0),c=0;c<16;c++)d[c]=a[b+c];for(;c<d.length;c++)d[c]=A(d[c-3]^d[c-8]^d[c-14]^d[c-16],1);let e=this.h[0],f=this.h[1],g=this.h[2],h=this.h[3],i=this.h[4];for(c=0;c<d.length;c++){var j,k,l,m,n,o,p,q,r;let a=~~(c/20),b=(m=A(e,5),j=f,k=g,l=h,n=0===a?(o=j)&k^~o&l:1===a||3===a?j^k^l:2===a?(p=j)&(q=k)^p&(r=l)^q&r:0,m+n+i+d[c]+this.k[a]>>>0);i=h,h=g,g=A(f,30),f=e,e=b}this.h[0]=B(this.h[0],e),this.h[1]=B(this.h[1],f),this.h[2]=B(this.h[2],g),this.h[3]=B(this.h[3],h),this.h[4]=B(this.h[4],i)}_digest(){return y(this.h,"big")}_digestHex(){return w(this.h,"big")}}class K{h;constructor(){this.h=new aF}update(a,b){let c=Uint8Array.from(u(a,b));return this.h.update(c),this}digest(){return Array.from(this.h.digest())}digestHex(){return x(this.h.digest())}}class L{h;blockSize=64;outSize=32;constructor(a){const b=a instanceof Uint8Array?a:Uint8Array.from(u(a,"string"==typeof a?"hex":void 0));this.h=new aH(ay,b)}update(a,b){let c=a instanceof Uint8Array?a:Uint8Array.from(u(a,b));return this.h.update(c),this}digest(){return Array.from(this.h.digest())}digestHex(){return x(this.h.digest())}}class M{inner;outer;blockSize=64;constructor(a){let b;for((a=u(a,"hex")).length>this.blockSize&&(a=new J().update(a).digest()),b=a.length;b<this.blockSize;b++)a.push(0);for(b=0;b<a.length;b++)a[b]^=54;for(b=0,this.inner=new J().update(a);b<a.length;b++)a[b]^=106;this.outer=new J().update(a)}update(a,b){return this.inner.update(a,b),this}digest(){return this.outer.update(this.inner.digest()),this.outer.digest()}digestHex(){return this.outer.update(this.inner.digest()),this.outer.digestHex()}}class N{h;blockSize=128;outSize=32;constructor(a){const b=a instanceof Uint8Array?a:Uint8Array.from(u(a,"string"==typeof a?"hex":void 0));this.h=new aH(aG,b)}update(a,b){let c=a instanceof Uint8Array?a:Uint8Array.from(u(a,b));return this.h.update(c),this}digest(){return Array.from(this.h.digest())}digestHex(){return x(this.h.digest())}}let O=(a,b)=>new H().update(a,b).digest(),P=(a,b)=>new J().update(a,b).digest(),Q=(a,b)=>new I().update(a,b).digest(),R=(a,b)=>{let c=new I().update(a,b).digest();return new I().update(c).digest()},S=(a,b)=>{let c=new I().update(a,b).digest();return new H().update(c).digest()},T=(a,b,c)=>new L(a).update(b,c).digest(),U=(a,b,c)=>new N(a).update(b,c).digest();function V(a){if(!Number.isSafeInteger(a)||a<0)throw Error(`positive integer expected, got ${a}`)}function W(a,...b){if(!(a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length)){let c=b.join(",");throw Error(`Uint8Array expected of length ${c}, got length=${a.length}`)}}function X(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash should be wrapped by utils.createHasher");V(a.outputLen),V(a.blockLen)}function Y(a,b=!0){if(!0===a.destroyed)throw Error("Hash instance has been destroyed");if(b&&!0===a.finished)throw Error("Hash#digest() has already been called")}function Z(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}function $(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function _(a){return"string"==typeof a&&(a=aa(a)),W(a),a}function aa(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}function ab(a){return"string"==typeof a&&(a=aa(a)),W(a),a}class ac{}function ad(a){let b=b=>a().update(_(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b}let ae=BigInt(0x100000000-1),af=BigInt(32),ag=(a,b,c)=>a>>>c,ah=(a,b,c)=>a<<32-c|b>>>c,ai=(a,b,c)=>a>>>c|b<<32-c,aj=(a,b,c)=>a<<32-c|b>>>c,ak=(a,b,c)=>a<<64-c|b>>>c-32,al=(a,b,c)=>a>>>c-32|b<<64-c;function am(a,b,c,d){let e=(b>>>0)+(d>>>0);return{h:a+c+(e/0x100000000|0)|0,l:0|e}}let an=(a,b,c)=>(a>>>0)+(b>>>0)+(c>>>0),ao=(a,b,c,d)=>b+c+d+(a/0x100000000|0)|0,ap=(a,b,c,d)=>(a>>>0)+(b>>>0)+(c>>>0)+(d>>>0),aq=(a,b,c,d,e)=>b+c+d+e+(a/0x100000000|0)|0,ar=(a,b,c,d,e)=>(a>>>0)+(b>>>0)+(c>>>0)+(d>>>0)+(e>>>0),as=(a,b,c,d,e,f)=>b+c+d+e+f+(a/0x100000000|0)|0;class at extends ac{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(a,b,c,d){super(),this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.buffer=new Uint8Array(a),this.view=$(this.buffer)}update(a){Y(this),W(a=_(a));let{view:b,buffer:c,blockLen:d}=this,e=a.length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g===d){let b=$(a);for(;d<=e-f;f+=d)this.process(b,f);continue}c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){Y(this);W(a);let b=this.outputLen;if(a.length<b)throw Error(`digestInto() expects output buffer of length at least ${b}`);this.finished=!0;let{buffer:c,view:d,blockLen:e,isLE:f}=this,{pos:g}=this;c[g++]=128,Z(this.buffer.subarray(g)),this.padOffset>e-g&&(this.process(d,0),g=0);for(let a=g;a<e;a++)c[a]=0;(function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)})(d,e-8,BigInt(8*this.length),f),this.process(d,0);let h=$(a),i=this.outputLen;if(i%4!=0)throw Error("_sha2: outputLen should be aligned to 32bit");let j=i/4,k=this.get();if(j>k.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<j;a++)h.setUint32(4*a,k[a],f)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){(a||=new this.constructor).set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.destroyed=f,a.finished=e,a.length=d,a.pos=g,d%b!=0&&a.buffer.set(c),a}clone(){return this._cloneInto()}}let au=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),av=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),aw=new Uint32Array(64);class ax extends at{A=0|au[0];B=0|au[1];C=0|au[2];D=0|au[3];E=0|au[4];F=0|au[5];G=0|au[6];H=0|au[7];constructor(a=32){super(64,a,8,!1)}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){var c,d,e,f,g,h,i,j,k;for(let c=0;c<16;c++,b+=4)aw[c]=a.getUint32(b);for(let a=16;a<64;a++){let b=aw[a-15],c=aw[a-2],d=z(b,7)^z(b,18)^b>>>3,e=z(c,17)^z(c,19)^c>>>10;aw[a]=B(B(d,aw[a-7]),B(e,aw[a-16]))}let{A:l,B:m,C:n,D:o,E:p,F:q,G:r,H:s}=this;for(let a=0;a<64;a++){let b=(e=s,f=z(c=p,6)^z(c,11)^z(c,25),g=(d=p)&q^~d&r,e+f+g+av[a]+aw[a]>>>0),t=B(z(h=l,2)^z(h,13)^z(h,22),(i=l)&(j=m)^i&(k=n)^j&k);s=r,r=q,q=p,p=B(o,b),o=n,n=m,m=l,l=B(b,t)}this.A=B(this.A,l),this.B=B(this.B,m),this.C=B(this.C,n),this.D=B(this.D,o),this.E=B(this.E,p),this.F=B(this.F,q),this.G=B(this.G,r),this.H=B(this.H,s)}roundClean(){Z(aw)}destroy(){Z(this.buffer),this.set(0,0,0,0,0,0,0,0)}}let ay=ad(()=>new ax),az=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),aA=function(a,b=!1){let c=a.length,d=new Uint32Array(c),e=new Uint32Array(c);for(let f=0;f<c;f++){let{h:c,l:g}=function(a,b=!1){return b?{h:Number(a&ae),l:Number(a>>af&ae)}:{h:0|Number(a>>af&ae),l:0|Number(a&ae)}}(a[f],b);d[f]=c,e[f]=g}return[d,e]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),aB=aA[0],aC=aA[1],aD=new Uint32Array(80),aE=new Uint32Array(80);class aF extends at{Ah=0|az[0];Al=0|az[1];Bh=0|az[2];Bl=0|az[3];Ch=0|az[4];Cl=0|az[5];Dh=0|az[6];Dl=0|az[7];Eh=0|az[8];El=0|az[9];Fh=0|az[10];Fl=0|az[11];Gh=0|az[12];Gl=0|az[13];Hh=0|az[14];Hl=0|az[15];constructor(a=64){super(128,a,16,!1)}get(){let{Ah:a,Al:b,Bh:c,Bl:d,Ch:e,Cl:f,Dh:g,Dl:h,Eh:i,El:j,Fh:k,Fl:l,Gh:m,Gl:n,Hh:o,Hl:p}=this;return[a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p]}set(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){this.Ah=0|a,this.Al=0|b,this.Bh=0|c,this.Bl=0|d,this.Ch=0|e,this.Cl=0|f,this.Dh=0|g,this.Dl=0|h,this.Eh=0|i,this.El=0|j,this.Fh=0|k,this.Fl=0|l,this.Gh=0|m,this.Gl=0|n,this.Hh=0|o,this.Hl=0|p}process(a,b){for(let c=0;c<16;c++,b+=4)aD[c]=a.getUint32(b),aE[c]=a.getUint32(b+=4);for(let a=16;a<80;a++){let b=0|aD[a-15],c=0|aE[a-15],d=ai(b,c,1)^ai(b,c,8)^ag(b,c,7),e=aj(b,c,1)^aj(b,c,8)^ah(b,c,7),f=0|aD[a-2],g=0|aE[a-2],h=ai(f,g,19)^ak(f,g,61)^ag(f,g,6),i=ap(e,aj(f,g,19)^al(f,g,61)^ah(f,g,6),aE[a-7],aE[a-16]),j=aq(i,d,h,aD[a-7],aD[a-16]);aD[a]=0|j,aE[a]=0|i}let{Ah:c,Al:d,Bh:e,Bl:f,Ch:g,Cl:h,Dh:i,Dl:j,Eh:k,El:l,Fh:m,Fl:n,Gh:o,Gl:p,Hh:q,Hl:r}=this;for(let a=0;a<80;a++){let b=ai(k,l,14)^ai(k,l,18)^ak(k,l,41),s=aj(k,l,14)^aj(k,l,18)^al(k,l,41),t=k&m^~k&o,u=ar(r,s,l&n^~l&p,aC[a],aE[a]),v=as(u,q,b,t,aB[a],aD[a]),w=0|u,x=ai(c,d,28)^ak(c,d,34)^ak(c,d,39),y=aj(c,d,28)^al(c,d,34)^al(c,d,39),z=c&e^c&g^e&g,A=d&f^d&h^f&h;q=0|o,r=0|p,o=0|m,p=0|n,m=0|k,n=0|l,({h:k,l:l}=am(0|i,0|j,0|v,0|w)),i=0|g,j=0|h,g=0|e,h=0|f,e=0|c,f=0|d;let B=an(y,A,w);c=ao(B,x,z,v),d=0|B}({h:c,l:d}=am(c,d,this.Ah,this.Al)),({h:e,l:f}=am(e,f,this.Bh,this.Bl)),({h:g,l:h}=am(g,h,this.Ch,this.Cl)),({h:i,l:j}=am(i,j,this.Dh,this.Dl)),({h:k,l:l}=am(k,l,this.Eh,this.El)),({h:m,l:n}=am(m,n,this.Fh,this.Fl)),({h:o,l:p}=am(o,p,this.Gh,this.Gl)),({h:q,l:r}=am(q,r,this.Hh,this.Hl)),this.set(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)}roundClean(){Z(aD,aE)}destroy(){Z(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let aG=ad(()=>new aF);class aH extends ac{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(a,b){super(),X(a);const c=_(b);if(this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,e=new Uint8Array(d);e.set(c.length>d?a.create().update(c).digest():c);for(let a=0;a<e.length;a++)e[a]^=54;this.iHash.update(e),this.oHash=a.create();for(let a=0;a<e.length;a++)e[a]^=106;this.oHash.update(e),Z(e)}update(a){return Y(this),this.iHash.update(a),this}digestInto(a){Y(this),W(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||=Object.create(Object.getPrototypeOf(this),{});let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash??void 0),a.iHash=c._cloneInto(a.iHash??void 0),a}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let aI=(a,b,c)=>new aH(a,b).update(c).digest();function aJ(b,c,d,e,f="sha512"){if("sha512"!==f)throw Error("Only sha512 is supported in this PBKDF2 implementation");try{let g=a.r(54799);if("function"==typeof g.pbkdf2Sync){let a=Buffer.from(b),h=Buffer.from(c);return[...g.pbkdf2Sync(a,h,d,e,f)]}}catch{}return Array.from(function(a,b,c,d){let e;X(a);let{c:f,dkLen:g}=Object.assign({dkLen:32},d);if(V(f),V(g),f<1)throw Error("iterations (c) should be >= 1");let h=ab(b),i=ab(c),j=new Uint8Array(g),k=aI.create(a,h),l=k._cloneInto().update(i),m=new Uint8Array(4),n=$(m),o=new Uint8Array(k.outputLen);for(let a=1,b=0;b<g;a++,b+=k.outputLen){let c=j.subarray(b,b+k.outputLen);n.setInt32(0,a,!1),(e=l._cloneInto(e)).update(m).digestInto(o),c.set(o.subarray(0,c.length));for(let a=1;a<f;a++){k._cloneInto(e).update(o).digestInto(o);for(let a=0;a<c.length;a++)c[a]^=o[a]}}return k.destroy(),l.destroy(),null!=e&&e.destroy(),Z(o),j}(aG,Uint8Array.from(b),Uint8Array.from(c),{c:d,dkLen:e}))}function aK(a){return(a>>>24|a>>>8&65280|a<<8&0xff0000|(255&a)<<24)>>>0}aI.create=(a,b)=>new aH(a,b);let aL=(d=new Uint32Array(c=new ArrayBuffer(4)),e=new Uint8Array(c),d[0]=0x1020304,4===e[0]);function aM(a){return aL?aK(a):a>>>0}a.s(["RIPEMD160",()=>H,"SHA1",()=>J,"SHA1HMAC",()=>M,"SHA256",()=>I,"SHA256HMAC",()=>L,"SHA512",()=>K,"SHA512HMAC",()=>N,"hash160",0,S,"hash256",0,R,"htonl",()=>v,"pbkdf2",()=>aJ,"realHtonl",()=>aM,"ripemd160",0,O,"sha1",0,P,"sha256",0,Q,"sha256hmac",0,T,"sha512",0,(a,b)=>new K().update(a,b).digest(),"sha512hmac",0,U,"swapBytes32",()=>aK,"toArray",()=>u],75248);let aN="u">typeof globalThis?globalThis.Buffer:void 0,aO=null!=aN&&"function"==typeof aN.from,aP="0123456789abcdef",aQ=Array(256);for(let a=0;a<256;a++)aQ[a]=aP[a>>4&15]+aP[15&a];let aR=a=>{if(aO)return aN.from(a).toString("hex");if(0===a.length)return"";let b=Array(a.length);for(let c=0;c<a.length;c++)b[c]=aQ[255&a[c]];return b.join("")},aS=(a,b)=>{if(Array.isArray(a))return a.slice();if(void 0===a)return[];if("string"!=typeof a)return Array.from(a,a=>0|a);switch(b){case"hex":return aU(a);case"base64":return aV(a);default:var c=a;let d=[];for(let a=0;a<c.length;a++){let b=c.codePointAt(a);if(void 0===b)throw Error(`Index out of range: ${a}`);let e=b;e>65535?a++:e>=55296&&e<=57343&&(e=65533),e<=127?d.push(e):e<=2047?d.push(192|e>>6,128|63&e):e<=65535?d.push(224|e>>12,128|e>>6&63,128|63&e):d.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e)}return d}},aT=new Int8Array(256).fill(-1);for(let a=0;a<10;a++)aT[48+a]=a;for(let a=0;a<6;a++)aT[65+a]=10+a,aT[97+a]=10+a;let aU=a=>{r(a);let b=a.length%2==0?a:"0"+a;if(aO)return Array.from(aN.from(b,"hex"));let c=Array(b.length/2),d=0;for(let a=0;a<b.length;a+=2){let e=aT[b.charCodeAt(a)],f=aT[b.charCodeAt(a+1)];c[d++]=e<<4|f}return c};function aV(a){if("string"!=typeof a)throw TypeError("msg must be a string");let b=a.trim().replace(/[\r\n\t\f\v ]+/g,""),c=(b=b.replace(/-/g,"+").replace(/_/g,"/")).indexOf("=");if(-1!==c){let a=b.slice(c);if(!/^={1,2}$/.test(a)||b.slice(0,c).includes("="))throw Error("Invalid base64 padding");b=b.slice(0,c)}let d=[],e=0,f=0;for(let a=0;a<b.length;a++){let c=b.charCodeAt(a),g=-1;if(c>=65&&c<=90)g=c-65;else if(c>=97&&c<=122)g=c-97+26;else if(c>=48&&c<=57)g=c-48+52;else if(43===c)g=62;else if(47===c)g=63;else throw Error(`Invalid base64 character at index ${a}`);for(e=e<<6|g,f+=6;f>=8;)f-=8,d.push(e>>f&255),e&=(1<<f)-1}return d}let aW=a=>{let b="";for(let c=0;c<a.length;c++){let d=a[c];if(d<=127){b+=String.fromCharCode(d);continue}let e=()=>{b+=""};if(d>=192&&d<=223){if(c+1>=a.length){e();continue}let f=a[c+1];if((192&f)!=128){e(),c+=1;continue}b+=String.fromCharCode((31&d)<<6|63&f),c+=1;continue}if(d>=224&&d<=239){if(c+2>=a.length){e();continue}let f=a[c+1],g=a[c+2];if((192&f)!=128||(192&g)!=128){e(),c+=2;continue}b+=String.fromCharCode((15&d)<<12|(63&f)<<6|63&g),c+=2;continue}if(d>=240&&d<=247){if(c+3>=a.length){e();continue}let f=a[c+1],g=a[c+2],h=a[c+3];if((192&f)!=128||(192&g)!=128||(192&h)!=128){e(),c+=3;continue}let i=((7&d)<<18|(63&f)<<12|(63&g)<<6|63&h)-65536;b+=String.fromCharCode(55296+(i>>10),56320+(1023&i)),c+=3;continue}e()}return b},aX=(a,b)=>{switch(b){case"hex":return aR(a);case"utf8":return aW(a);default:return a}};function aY(a){let b,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="";for(b=0;b<a.length;b+=3){let e=a[b],f=b+1<a.length?a[b+1]:0,g=b+2<a.length?a[b+2]:0,h=e>>2,i=(3&e)<<4|f>>4,j=(15&f)<<2|g>>6,k=63&g;d+=c.charAt(h)+c.charAt(i),d+=b+1<a.length?c.charAt(j):"=",d+=b+2<a.length?c.charAt(k):"="}return d}let aZ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",a$=a=>{let b;if(""===a||"string"!=typeof a)throw Error(`Expected base58 string but got ${a}`);let c=a.match(/[IOl0]/gmu);if(null!==c)throw Error(`Invalid base58 character ${c.join("")}`);let d=a.match(/^1+/gmu),e=null!==d?d[0].length:0,f=(a.length-e)*(Math.log(58)/Math.log(256))+1>>>0;return[...new Uint8Array([...new Uint8Array(e),...(a.match(/./gmu)??[]).map(a=>aZ.indexOf(a)).reduce((a,b)=>a=a.map(a=>{let c=58*a+b;return b=c>>8,c}),new Uint8Array(f)).reverse().filter((b=!1,a=>b=b||a))])]},a_=a=>{let b=Array(256).fill(-1);for(let a=0;a<aZ.length;++a)b[aZ.charCodeAt(a)]=a;let c=[];for(let d of a){let a=d;for(let d=0;d<c.length;++d){let e=(b[c[d]]<<8)+a;c[d]=aZ.charCodeAt(e%58),a=e/58|0}for(;0!==a;)c.push(aZ.charCodeAt(a%58)),a=a/58|0}for(let b of a)if(0!==b)break;else c.push(49);return c.reverse(),String.fromCharCode(...c)},a0=(a,b=[0])=>{let c=R([...b,...a]);return a_(c=[...b,...a,...c.slice(0,4)])},a1=(a,b,c=1)=>{let d=a$(a),e=d.slice(0,c),f=d.slice(c,-4),g=[...e,...f];return g=R(g),d.slice(-4).forEach((a,b)=>{if(a!==g[b])throw Error("Invalid checksum")}),"hex"===b&&(e=aR(e),f=aR(f)),{prefix:e,data:f}};class a2{bufs;length;constructor(a){for(const b of(this.bufs=void 0!==a?a:[],this.length=0,this.bufs))this.length+=b.length}getLength(){return this.length}toUint8Array(){let a=new Uint8Array(this.length),b=0;for(let c of this.bufs)a.set(c,b),b+=c.length;return a}toArray(){let a=Array(this.length),b=0;for(let c of this.bufs)if(c instanceof Uint8Array)for(let d=0;d<c.length;d++)a[b++]=c[d];else for(let d=0;d<c.length;d++)a[b++]=c[d];return a}write(a){return this.bufs.push(a),this.length+=a.length,this}writeReverse(a){let b=Array(a.length);for(let c=0;c<b.length;c++)b[c]=a[a.length-1-c];return this.write(b)}writeUInt8(a){let b=[,];return b[0]=255&a,this.write(b),this}writeInt8(a){let b=[,];return b[0]=255&a,this.write(b),this}writeUInt16BE(a){return this.write([a>>8&255,255&a])}writeInt16BE(a){return this.writeUInt16BE(65535&a)}writeUInt16LE(a){return this.write([255&a,a>>8&255])}writeInt16LE(a){return this.writeUInt16LE(65535&a)}writeUInt32BE(a){return this.write([a>>24&255,a>>16&255,a>>8&255,255&a])}writeInt32BE(a){return this.writeUInt32BE(a>>>0)}writeUInt32LE(a){return this.write([255&a,a>>8&255,a>>16&255,a>>24&255])}writeInt32LE(a){return this.writeUInt32LE(a>>>0)}writeUInt64BEBn(a){let b=a.toArray("be",8);return this.write(b),this}writeUInt64LEBn(a){let b=a.toArray("be",8);return this.writeReverse(b),this}writeUInt64LE(a){let b=new j(a).toArray("be",8);return this.writeReverse(b),this}writeVarIntNum(a){let b=a2.varIntNum(a);return this.write(b),this}writeVarIntBn(a){let b=a2.varIntBn(a);return this.write(b),this}static varIntNum(a){let b;if(a<0)return this.varIntBn(new j(a));if(a<253)b=[a];else if(a<65536)b=[253,255&a,a>>8&255];else if(a<0x100000000)b=[254,255&a,a>>8&255,a>>16&255,a>>24&255];else{let c=0|a,d=0|Math.floor(a/0x100000000);b=[255,255&c,c>>8&255,c>>16&255,c>>24&255,255&d,d>>8&255,d>>16&255,d>>24&255]}return b}static varIntBn(a){let b;if(a.isNeg()&&(a=a.add(a6)),a.ltn(253))b=[a.toNumber()];else if(a.ltn(65536)){let c=a.toNumber();b=[253,255&c,c>>8&255]}else if(a.lt(new j(0x100000000))){let c=a.toNumber();b=[254,255&c,c>>8&255,c>>16&255,c>>24&255]}else{let c=new a2;c.writeUInt8(255),c.writeUInt64LEBn(a),b=c.toArray()}return b}}class a3{bin;pos;length;constructor(a=[],b=0){this.bin=a,this.pos=b,this.length=a.length}eof(){return this.pos>=this.length}read(a=this.length){let b=this.pos,c=this.pos+a;return this.pos=c,this.bin.slice(b,c)}readReverse(a=this.length){let b=Array(a);for(let c=0;c<a;c++)b[c]=this.bin[this.pos+a-1-c];return this.pos+=a,b}readUInt8(){let a=this.bin[this.pos];return this.pos+=1,a}readInt8(){let a=this.bin[this.pos];return this.pos+=1,(128&a)!=0?a-256:a}readUInt16BE(){let a=this.bin[this.pos]<<8|this.bin[this.pos+1];return this.pos+=2,a}readInt16BE(){let a=this.readUInt16BE();return(32768&a)!=0?a-65536:a}readUInt16LE(){let a=this.bin[this.pos]|this.bin[this.pos+1]<<8;return this.pos+=2,a}readInt16LE(){let a=this.readUInt16LE();return(32768&a)!=0?a-65536:a}readUInt32BE(){let a=0x1000000*this.bin[this.pos]+(this.bin[this.pos+1]<<16|this.bin[this.pos+2]<<8|this.bin[this.pos+3]);return this.pos+=4,a}readInt32BE(){let a=this.readUInt32BE();return(0x80000000&a)!=0?a-0x100000000:a}readUInt32LE(){let a=(this.bin[this.pos]|this.bin[this.pos+1]<<8|this.bin[this.pos+2]<<16|this.bin[this.pos+3]<<24)>>>0;return this.pos+=4,a}readInt32LE(){let a=this.readUInt32LE();return(0x80000000&a)!=0?a-0x100000000:a}readUInt64BEBn(){let a=new j(this.bin.slice(this.pos,this.pos+8));return this.pos=this.pos+8,a}readUInt64LEBn(){return new j(this.readReverse(8))}readInt64LEBn(){let a=new j(this.readReverse(8));return a.gte(a5)&&(a=a.sub(a6)),a}readVarIntNum(a=!0){let b,c=this.readUInt8();switch(c){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:if((b=a?this.readInt64LEBn():this.readUInt64LEBn()).lte(new j(2).pow(new j(53))))return b.toNumber();throw Error("number too large to retain precision - use readVarIntBn");default:return c}}readVarInt(){switch(this.bin[this.pos]){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}}readVarIntBn(){let a=this.readUInt8();switch(a){case 253:return new j(this.readUInt16LE());case 254:return new j(this.readUInt32LE());case 255:return this.readUInt64LEBn();default:return new j(a)}}}let a4=a=>{if(0===a.length)return a;let b=a[a.length-1];if((127&b)!=0)return a;if(1===a.length)return[];if((128&a[a.length-2])!=0)return a;for(let c=a.length-1;c>0;c--)if(0!==a[c-1])if((128&a[c-1])!=0)return a[c]=b,a.slice(0,c+1);else return a[c-1]|=b,a.slice(0,c);return[]},a5=new j(2).pow(new j(63)),a6=new j(2).pow(new j(64));function a7(a,b="Expected a valid value, but got undefined or null."){if(null==a)throw Error(b);return a}function a8(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c}function a9(a,b,c){let d=-a,e=(b.X^c.X)&d,f=(b.Y^c.Y)&d,g=(b.Z^c.Z)&d;b.X^=e,c.X^=e,b.Y^=f,c.Y^=f,b.Z^=g,c.Z^=g}a.s(["Reader",()=>a3,"Writer",()=>a2,"base64ToArray",()=>aV,"constantTimeEquals",()=>a8,"encode",0,aX,"fromBase58",0,a$,"fromBase58Check",0,a1,"minimallyEncode",0,a4,"toArray",0,aS,"toBase58",0,a_,"toBase58Check",0,a0,"toBase64",()=>aY,"toHex",0,aR,"toUTF8",0,aW,"verifyNotNull",()=>a7,"zero2",0,a=>a.length%2==1?"0"+a:a],65997);let ba=(1n<<256n)-1n;function bb(a){let b=a>>256n;return b=(a=(a&ba)+(b<<32n)+977n*b)>>256n,(a=(a&ba)+(b<<32n)+977n*b)>=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn&&(a-=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn),a}let bc=a=>bb((a%0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn+0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn)%0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn),bd=(a,b)=>a>=b?a-b:0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn-(b-a),be=(a,b)=>bb(a*b),bf=a=>{let b=1n,c=0n,d=bc(a),e=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn;for(;d>1n;){let a=e/d;[b,c]=[c-b*a,b],[d,e]=[e-d*a,d]}return bc(b)},bg=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn+1n>>2n,bh=BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),bi=BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),bj=new Map,bk=a=>{let{X:b,Y:c,Z:d}=a;if(0n===c)return{X:0n,Y:1n,Z:0n};let e=be(c,c),f=be(4n,be(b,e)),g=be(3n,be(b,b)),h=bd(be(g,g),be(2n,f)),i=bd(be(g,bd(f,h)),be(8n,be(e,e)));return{X:h,Y:i,Z:be(2n,be(c,d))}},bl=(a,b)=>{if(0n===a.Z)return b;if(0n===b.Z)return a;let c=be(a.Z,a.Z),d=be(b.Z,b.Z),e=be(a.X,d),f=be(b.X,c),g=be(a.Y,be(d,b.Z)),h=be(b.Y,be(c,a.Z)),i=bd(f,e),j=bd(h,g);if(0n===i)return 0n===j?bk(a):{X:0n,Y:1n,Z:0n};let k=be(i,i),l=be(i,k),m=be(e,k),n=bd(bd(be(j,j),l),be(2n,m)),o=bd(be(j,bd(m,n)),be(g,l));return{X:n,Y:o,Z:be(i,be(a.Z,b.Z))}},bm=a=>0n===a.Z?a:{X:a.X,Y:0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn-a.Y,Z:a.Z},bn=(a,b,c=5)=>{let d,e=`${c}:${b.x.toString(16)}:${b.y.toString(16)}`,f=bj.get(e);if(void 0===f){let a=1<<c-1;f=Array(a),d={X:b.x,Y:b.y,Z:1n},f[0]=d;let g=bk(d);for(let b=1;b<a;b++)f[b]=bl(f[b-1],g);bj.set(e,f)}else d=f[0];let g=[],h=1n<<BigInt(c),i=h>>1n,j=a;for(;j>0n;)if((1n&j)===0n)g.push(0),j>>=1n;else{let a=j&h-1n;a>i&&(a-=h),g.push(Number(a)),j-=a,j>>=1n}let k={X:0n,Y:1n,Z:0n};for(let a=g.length-1;a>=0;a--){k=bk(k);let b=g[a];if(0!==b){let a=Math.abs(b)>>1;k=bl(k,b>0?f[a]:bm(f[a]))}}return k},bo=a=>{let b=a%0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n;return b<0n&&(b+=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n),b},bp=(a,b)=>bo(a*b),bq=a=>{let b=1n,c=0n,d=bo(a),e=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n;for(;d>1n;){let a=e/d;[b,c]=[c-b*a,b],[d,e]=[e-d*a,d]}return bo(b)};class br extends o{x;y;inf;static _assertOnCurve(a){if(!a.validate())throw Error("Invalid point");return a}static fromDER(a){if((4===a[0]||6===a[0]||7===a[0])&&a.length-1==64){if(6===a[0]){if(a[a.length-1]%2!=0)throw Error("Point string value is wrong length")}else if(7===a[0]&&a[a.length-1]%2!=1)throw Error("Point string value is wrong length");let b=new br(a.slice(1,33),a.slice(33,65));return br._assertOnCurve(b)}if((2===a[0]||3===a[0])&&a.length-1==32)return br._assertOnCurve(br.fromX(a.slice(1,33),3===a[0]));throw Error("Unknown point format")}static fromString(a){let b=aS(a,"hex");return br._assertOnCurve(br.fromDER(b))}static fromX(a,b){var c;let d,e,f=j.isBN(a)?BigInt("0x"+a.toString(16)):"string"==typeof a?BigInt("0x"+a):Array.isArray(a)?BigInt("0x"+aR(a)):BigInt(a),g=(e=((a,b)=>{let c=1n;for(a=bc(a);b>0n;)(1n&b)!==0n&&(c=be(c,a)),a=be(a,a),b>>=1n;return c})(c=bb(be(be(d=f=bc(f),d),f)+7n),bg),be(e,e)!==bc(c)?null:e);if(null===g)throw Error("Invalid point");let h=g;(1n&h)!==(b?1n:0n)&&(h=bd(0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,h));let i=new j(f.toString(16),16),k=new j(h.toString(16),16);return br._assertOnCurve(new br(i,k))}static fromJSON(a,b){"string"==typeof a&&(a=JSON.parse(a));let c=new br(a[0],a[1],b);if(c=br._assertOnCurve(c),"object"!=typeof a[2]||null===a[2])return c;let d=a[2],e=a=>{let c=new br(a[0],a[1],b);return br._assertOnCurve(c)};return c.precomputed={beta:null,doubles:"object"==typeof d.doubles&&null!==d.doubles?{step:d.doubles.step,points:[c].concat(d.doubles.points.map(e))}:void 0,naf:"object"==typeof d.naf&&null!==d.naf?{wnd:d.naf.wnd,points:[c].concat(d.naf.points.map(e))}:void 0},c}constructor(a,b,c=!0){super("affine"),this.precomputed=null,null===a&&null===b?(this.x=null,this.y=null,this.inf=!0):(j.isBN(a)||(a=new j(a,16)),this.x=a,j.isBN(b)||(b=new j(b,16)),this.y=b,c&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),null===this.x.red&&(this.x=this.x.toRed(this.curve.red)),null===this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}validate(){if(this.inf||null==this.x||null==this.y)return!1;try{let a,b=BigInt("0x"+this.x.fromRed().toString(16)),c=BigInt("0x"+this.y.fromRed().toString(16)),d=be(c,c),e=(a=be(be(b,b),b),bb(a+7n));return d===e}catch{return!1}}encode(a=!0,b){let c;if(this.inf)return"hex"===b?"00":[0];let d=this.curve.p.byteLength(),e=this.getX().toArray("be",d);return(c=a?[this.getY().isEven()?2:3].concat(e):[4].concat(e,this.getY().toArray("be",d)),"hex"!==b)?c:aR(c)}toString(){return this.encode(!0,"hex")}toJSON(){return null==this.precomputed?[this.x,this.y]:[this.x,this.y,"object"==typeof this.precomputed&&null!==this.precomputed?{doubles:null!=this.precomputed.doubles?{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)}:void 0,naf:null!=this.precomputed.naf?{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}:void 0}:void 0]}inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+(this.x?.fromRed()?.toString(16,2)??"undefined")+" y: "+(this.y?.fromRed()?.toString(16,2)??"undefined")+">"}isInfinity(){return this.inf}add(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a)||this.x?.cmp(a.x??new j(0))===0)return new br(null,null);let b=bl({X:BigInt("0x"+this.x.fromRed().toString(16)),Y:BigInt("0x"+this.y.fromRed().toString(16)),Z:1n},{X:BigInt("0x"+a.x.fromRed().toString(16)),Y:BigInt("0x"+a.y.fromRed().toString(16)),Z:1n});if(0n===b.Z)return new br(null,null);let c=bf(b.Z),d=be(c,c),e=be(b.X,d),f=be(b.Y,be(d,c));return new br(e.toString(16),f.toString(16))}dbl(){if(this.inf)return this;if(null===this.x||null===this.y)throw Error("Point coordinates cannot be null");let a=BigInt("0x"+this.x.fromRed().toString(16)),b=BigInt("0x"+this.y.fromRed().toString(16));if(0n===b)return new br(null,null);let c=bk({X:a,Y:b,Z:1n}),d=bf(c.Z),e=be(d,d),f=be(c.X,e),g=be(c.Y,be(e,d));return new br(f.toString(16),g.toString(16))}getX(){return(this.x??new j(0)).fromRed()}getY(){return(this.y??new j(0)).fromRed()}mul(a){let b,c;if(j.isBN(a)||(a=new j(a,16)),this.inf)return this;let d=a.isNeg(),e=BigInt("0x"+(d?a.neg():a).toString(16));if(0n===(e=bc(e))||0n===e)return new br(null,null);if(null===this.x||null===this.y)throw Error("Point coordinates cannot be null");this===this.curve.g?(b=bh,c=bi):(b=BigInt("0x"+this.x.fromRed().toString(16)),c=BigInt("0x"+this.y.fromRed().toString(16)));let f=bn(e,{x:b,y:c});if(0n===f.Z)return new br(null,null);let g=bf(f.Z),h=be(g,g),i=be(f.X,h),k=be(f.Y,be(h,g)),l=new br(new j(i.toString(16),16),new j(k.toString(16),16));return d?l.neg():l}mulCT(a){if(j.isBN(a)||(a=new j(a,16)),this.inf)return new br(null,null);let b=a.isNeg(),c=BigInt("0x"+(b?a.neg():a).toString(16));if(0n===(c=bc(c)))return new br(null,null);let d=this===this.curve.g?bh:BigInt("0x"+this.getX().toString(16)),e=this===this.curve.g?bi:BigInt("0x"+this.getY().toString(16)),f={X:0n,Y:1n,Z:0n},g={X:d,Y:e,Z:1n},h=c.toString(2);for(let a=0;a<h.length;a++){let b="1"===h[a]?1n:0n;a9(b,f,g),g=bl(f,g),a9(b,f=bk(f),g)}if(0n===f.Z)return new br(null,null);let i=bf(f.Z),k=be(i,i),l=be(f.X,k),m=be(f.Y,be(k,i)),n=new br(l.toString(16),m.toString(16));return b?n.neg():n}mulAdd(a,b,c){return this._endoWnafMulAdd([this,b],[a,c])}jmulAdd(a,b,c){return this._endoWnafMulAdd([this,b],[a,c],!0)}eq(a){return this===a||this.inf===a.inf&&(this.inf||0===(this.x??new j(0)).cmp(a.x??new j(0))&&0===(this.y??new j(0)).cmp(a.y??new j(0)))}neg(a){if(this.inf)return this;let b=new br(this.x,(this.y??new j(0)).redNeg());if(!0===a&&null!=this.precomputed){let a=this.precomputed;b.precomputed={naf:null!=a.naf?{wnd:a.naf.wnd,points:a.naf.points.map(a=>a.neg())}:void 0,doubles:null!=a.doubles?{step:a.doubles.step,points:a.doubles.points.map(a=>a.neg())}:void 0,beta:void 0}}return b}dblp(a){let b=this;for(let c=0;c<a;c++)b=b.dbl();return b}toJ(){return this.inf?new p(null,null,null):new p(this.x,this.y,this.curve.one)}_getBeta(){if("object"!=typeof this.curve.endo)return;let a=this.precomputed;if("object"==typeof a&&null!==a&&"object"==typeof a.beta&&null!==a.beta)return a.beta;let b=new br((this.x??new j(0)).redMul(this.curve.endo.beta),this.y);if(null!=a){let c=this.curve,d=a=>{if(null===a.x)throw Error("p.x is null");if(void 0===c.endo||null===c.endo)throw Error("curve.endo is undefined");return new br(a.x.redMul(c.endo.beta),a.y)};a.beta=b,b.precomputed={beta:null,naf:null!=a.naf?{wnd:a.naf.wnd,points:a.naf.points.map(d)}:void 0,doubles:null!=a.doubles?{step:a.doubles.step,points:a.doubles.points.map(d)}:void 0}}return b}_fixedNafMul(a){if("object"!=typeof this.precomputed||null===this.precomputed)throw Error("_fixedNafMul requires precomputed values for the point");let b=this._getDoubles(),c=this.curve.getNAF(a,1,this.curve._bitLength),d=(1<<b.step+1)-(b.step%2==0?2:1);d/=3;let e=[];for(let a=0;a<c.length;a+=b.step){let d=0;for(let e=a+b.step-1;e>=a;e--)d=(d<<1)+c[e];e.push(d)}let f=new p(null,null,null),g=new p(null,null,null);for(let a=d;a>0;a--){for(let c=0;c<e.length;c++){let d=e[c];d===a?g=g.mixedAdd(b.points[c]):d===-a&&(g=g.mixedAdd(b.points[c].neg()))}f=f.add(g)}return f.toP()}_wnafMulAdd(a,b,c,d,e){let f=this.curve._wnafT1.map(a=>a.toNumber()),g=this.curve._wnafT2.map(()=>[]),h=this.curve._wnafT3.map(()=>[]),i=0;for(let c=0;c<d;c++){let d=b[c]._getNAFPoints(a);f[c]=d.wnd,g[c]=d.points}for(let a=d-1;a>=1;a-=2){let d=a-1,e=a;if(1!==f[d]||1!==f[e]){h[d]=this.curve.getNAF(c[d],f[d],this.curve._bitLength),h[e]=this.curve.getNAF(c[e],f[e],this.curve._bitLength),i=Math.max(h[d].length,i),i=Math.max(h[e].length,i);continue}let k=[b[d],null,null,b[e]];0===(b[d].y??new j(0)).cmp(b[e].y??new j(0))?(k[1]=b[d].add(b[e]),k[2]=b[d].toJ().mixedAdd(b[e].neg())):0===(b[d].y??new j(0)).cmp((b[e].y??new j(0)).redNeg())?(k[1]=b[d].toJ().mixedAdd(b[e]),k[2]=b[d].add(b[e].neg())):(k[1]=b[d].toJ().mixedAdd(b[e]),k[2]=b[d].toJ().mixedAdd(b[e].neg()));let l=[-3,-1,-5,-7,0,7,5,1,3],m=this.curve.getJSF(c[d],c[e]);i=Math.max(m[0].length,i),h[d]=Array(i),h[e]=Array(i);for(let a=0;a<i;a++){let b=0|m[0][a],c=0|m[1][a];h[d][a]=l[(b+1)*3+(c+1)],h[e][a]=0,g[d]=k}}let k=new p(null,null,null),l=this.curve._wnafT4;for(let a=i;a>=0;a--){let b=0;for(;a>=0;){let c=!0;for(let b=0;b<d;b++)l[b]=new j("number"==typeof h[b][a]?h[b][a]:0),l[b].isZero()||(c=!1);if(!c)break;b++,a--}if(a>=0&&b++,k=k.dblp(b),a<0)break;let c=new j(1),e=new j(2);for(let a=0;a<d;a++){let b,d=l[a];0!==d.cmpn(0)&&(k="affine"===(b=d.isNeg()?g[a][d.neg().sub(c).div(e).toNumber()].neg():g[a][d.sub(c).div(e).toNumber()]).type?k.mixedAdd(b):k.add(b))}}for(let a=0;a<d;a++)g[a]=[];return!0===e?k:k.toP()}_endoWnafMulAdd(a,b,c){let d,e=Array(2*a.length),f=Array(2*a.length);for(d=0;d<a.length;d++){let c=this.curve._endoSplit(b[d]),g=a[d],h=g._getBeta()??new br(null,null);0!==c.k1.negative&&(c.k1.ineg(),g=g.neg(!0)),0!==c.k2.negative&&(c.k2.ineg(),h=h.neg(!0)),e[2*d]=g,e[2*d+1]=h,f[2*d]=c.k1,f[2*d+1]=c.k2}let g=this._wnafMulAdd(1,e,f,2*d,c);for(let a=0;a<2*d;a++)e[a]=null,f[a]=null;return g}_hasDoubles(a){if(null==this.precomputed)return!1;let b=this.precomputed.doubles;return"object"==typeof b&&b.points.length>=Math.ceil((a.bitLength()+1)/b.step)}_getDoubles(a,b){if("object"==typeof this.precomputed&&null!==this.precomputed&&"object"==typeof this.precomputed.doubles&&null!==this.precomputed.doubles)return this.precomputed.doubles;let c=[this],d=this;for(let e=0;e<(b??0);e+=a??1){for(let b=0;b<(a??1);b++)d=d.dbl();c.push(d)}return{step:a??1,points:c}}_getNAFPoints(a){if("object"==typeof this.precomputed&&null!==this.precomputed&&"object"==typeof this.precomputed.naf&&null!==this.precomputed.naf)return this.precomputed.naf;let b=[this],c=(1<<a)-1,d=1===c?null:this.dbl();for(let a=1;a<c;a++)null!==d&&(b[a]=b[a-1].add(d));return{wnd:a,points:b}}}class bs{p;red;redN;zero;one;two;g;n;a;b;tinv;zeroA;threeA;endo;_endoWnafT1;_endoWnafT2;_wnafT1;_wnafT2;_wnafT3;_wnafT4;_bitLength;static assert(a,b="Elliptic curve assertion failed"){if(!a)throw Error(b)}getNAF(a,b,c){let d=Array(Math.max(a.bitLength(),c)+1);d.fill(0);let e=1<<b+1,f=a.clone();for(let a=0;a<d.length;a++){let b,c=f.andln(e-1);f.isOdd()?(b=c>(e>>1)-1?(e>>1)-c:c,f.isubn(b)):b=0,d[a]=b,f.iushrn(1)}return d}getJSF(a,b){let c=[[],[]];a=a.clone(),b=b.clone();let d=0,e=0;for(;a.cmpn(-d)>0||b.cmpn(-e)>0;){let f,g,h=a.andln(3)+d&3,i=b.andln(3)+e&3;if(3===h&&(h=-1),3===i&&(i=-1),(1&h)==0)f=0;else{let b=a.andln(7)+d&7;f=(3===b||5===b)&&2===i?-h:h}if(c[0].push(f),(1&i)==0)g=0;else{let a=b.andln(7)+e&7;g=(3===a||5===a)&&2===h?-i:i}c[1].push(g),2*d===f+1&&(d=1-d),2*e===g+1&&(e=1-e),a.iushrn(1),b.iushrn(1)}return c}static cachedProperty(a,b,c){let d="_"+b;a.prototype[b]=function(){return void 0!==this[d]?this[d]:this[d]=c.call(this)}}static parseBytes(a){return"string"==typeof a?aS(a,"hex"):a}static intFromLE(a){return new j(a,"hex","le")}constructor(){if(void 0!==b)return b;b=this;const a={prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]};this.p=new j(a.p,16),this.red=new m(a.prime),this.zero=new j(0).toRed(this.red),this.one=new j(1).toRed(this.red),this.two=new j(2).toRed(this.red),this.n=new j(a.n,16),this.g=br.fromJSON(a.g,a.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n.bitLength(),this.redN=this.n.toRed(this.red),this.a=new j(a.a,16).toRed(this.red),this.b=new j(a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(a),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}_getEndomorphism(a){let b,c,d;if(this.zeroA&&1===this.p.modrn(3)){if(void 0!==a.beta)b=new j(a.beta,16).toRed(this.red);else{let a=this._getEndoRoots(this.p);if(null===a)throw Error("Failed to get endomorphism roots for beta.");b=(b=0>a[0].cmp(a[1])?a[0]:a[1]).toRed(this.red)}if(void 0!==a.lambda)c=new j(a.lambda,16);else{let a=this._getEndoRoots(this.n);if(null===a)throw Error("Failed to get endomorphism roots for lambda.");if(null==this.g)throw Error("Curve generator point (g) is not defined.");let d=this.g.mul(a[0])?.x,e=null!=this.g.x?this.g.x.redMul(b):void 0;if(null!=d&&null!=e&&0===d.cmp(e))c=a[0];else{if(c=a[1],null==this.g)throw Error("Curve generator point (g) is not defined.");let d=this.g.mul(c)?.x,e=null!=this.g.x?this.g.x.redMul(b):void 0;if(null==d||null==e)throw Error("Lambda computation failed: g.mul(lambda).x or g.x.redMul(beta) is undefined.");bs.assert(0===d.cmp(e),"Lambda selection does not match computed beta.")}}return d="object"==typeof a.basis&&null!==a.basis?a.basis.map(function(a){return{a:new j(a.a,16),b:new j(a.b,16)}}):this._getEndoBasis(c),{beta:b,lambda:c,basis:d}}}_getEndoRoots(a){let b=a===this.p?this.red:new n(a),c=new j(2).toRed(b).redInvm(),d=c.redNeg(),e=new j(3).toRed(b).redNeg().redSqrt().redMul(c);return[d.redAdd(e).fromRed(),d.redSub(e).fromRed()]}_getEndoBasis(a){let b,c,d,e,f,g,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=a,k=this.n.clone(),l=new j(1),m=new j(0),n=new j(0),o=new j(1),p=new j(0),q=0,r=new j(0),s=new j(0);for(;0!==i.cmpn(0);){let a=k.div(i);r=k.sub(a.mul(i)),s=n.sub(a.mul(l));let f=o.sub(a.mul(m));if(void 0===d&&0>r.cmp(h))b=p.neg(),c=l,d=r.neg(),e=s;else if(void 0!==d&&2==++q)break;p=r,k=i,i=r,n=l,l=s,o=m,m=f}if(void 0===b||void 0===c||void 0===d||void 0===e)throw Error("Failed to compute Endo Basis values");f=r.neg(),g=s;let t=d.sqr().add(e.sqr());return f.sqr().add(g.sqr()).cmp(t)>=0&&(f=b,g=c),0!==d.negative&&(d=d.neg(),e=e.neg()),0!==f.negative&&(f=f.neg(),g=g.neg()),[{a:d,b:e},{a:f,b:g}]}_endoSplit(a){if(null==this.endo)throw Error("Endomorphism is not defined.");let b=this.endo.basis,c=b[0],d=b[1],e=d.b.mul(a).divRound(this.n),f=c.b.neg().mul(a).divRound(this.n),g=e.mul(c.a),h=f.mul(d.a),i=e.mul(c.b),j=f.mul(d.b);return{k1:a.sub(g).sub(h),k2:i.add(j).neg()}}validate(a){if(a.inf)return!0;let b=a.x,c=a.y;if(null===b||null===c)throw Error("Point coordinates cannot be null");let d=this.a.redMul(b),e=b.redSqr().redMul(b).redIAdd(d).redIAdd(this.b);return 0===c.redSqr().redISub(e).cmpn(0)}}a.s(["sign",()=>bB,"verify",()=>bC],39814);class bt{r;s;static fromDER(a,b){let c=(a,b)=>{let c=a[b.place++];if((128&c)==0)return c;throw Error("Invalid DER entity length")};a=aS(a,b);let d=new class{place;constructor(){this.place=0}};if(48!==a[d.place++])throw Error("Signature DER must start with 0x30");if(c(a,d)+d.place!==a.length||2!==a[d.place++])throw Error("Signature DER invalid");let e=c(a,d),f=a.slice(d.place,e+d.place);if(d.place+=e,2!==a[d.place++])throw Error("Signature DER invalid");let g=c(a,d);if(a.length!==g+d.place)throw Error("Invalid R-length in signature DER");let h=a.slice(d.place,g+d.place);if(0===f[0])if((128&f[1])!=0)f=f.slice(1);else throw Error("Invalid R-value in signature DER");if(0===h[0])if((128&h[1])!=0)h=h.slice(1);else throw Error("Invalid S-value in signature DER");return new bt(new j(f),new j(h))}static fromCompact(a,b){if(65!==(a=aS(a,b)).length)throw Error("Invalid Compact Signature");let c=a[0];if(c<27||c>=35)throw Error("Invalid Compact Byte");return new bt(new j(a.slice(1,33)),new j(a.slice(33,65)))}constructor(a,b){this.r=a,this.s=b}verify(a,b,c){return bC(new j(Q(a,c),16),this,b)}toString(a){return this.toDER(a)}toDER(a){let b=(a,b)=>{if(b<128)a.push(b);else throw Error("len must be < 0x80")},c=a=>{let b=0,c=a.length-1;for(;0===a[b]&&(128&a[b+1])==0&&b<c;)b++;return 0===b?a:a.slice(b)},d=this.r.toArray(),e=this.s.toArray();for((128&d[0])!=0&&(d=[0].concat(d)),(128&e[0])!=0&&(e=[0].concat(e)),d=c(d),e=c(e);0===e[0]&&(128&e[1])==0;)e=e.slice(1);let f=[2];b(f,d.length),(f=f.concat(d)).push(2),b(f,e.length);let g=f.concat(e),h=[48];return(b(h,g.length),h=h.concat(g),"hex"===a)?aR(h):"base64"===a?aY(h):h}toCompact(a,b,c){if(a<0||a>3)throw Error("Invalid recovery param");if("boolean"!=typeof b)throw Error("Invalid compressed param");let d=27+a;b&&(d+=4);let e=[d];return(e=(e=e.concat(this.r.toArray("be",32))).concat(this.s.toArray("be",32)),"hex"===c)?aR(e):"base64"===c?aY(e):e}RecoverPublicKey(a,b){let c=this.r,d=this.s,e=new bs,f=e.n,g=e.g,h=0!=a>>1?c.add(f):c,i=br.fromX(h,(1&a)!=0);if(!i.mul(f).isInfinity())throw Error("nR is not at infinity");let j=b.neg().umod(f),k=c.invm(f),l=k.mul(d).umod(f),m=k.mul(j).umod(f),n=new bD(g.mul(m).add(i.mul(l)));return n.validate(),n}CalculateRecoveryFactor(a,b){for(let c=0;c<4;c++){let d;try{d=this.RecoverPublicKey(c,b)}catch{continue}if(a.eq(d))return c}throw Error("Unable to find valid recovery factor")}}class bu{K;V;constructor(a,b){const c=aS(a,"hex"),d=aS(b,"hex");if(32!==c.length)throw Error("Entropy must be exactly 32 bytes (256 bits)");if(32!==d.length)throw Error("Nonce must be exactly 32 bytes (256 bits)");const e=c.concat(d);this.K=Array(32),this.V=Array(32);for(let a=0;a<32;a++)this.K[a]=0,this.V[a]=1;this.update(e)}hmac(){return new L(this.K)}update(a){let b=this.hmac().update(this.V).update([0]);void 0!==a&&(b=b.update(a)),this.K=b.digest(),this.V=this.hmac().update(this.V).digest(),void 0!==a&&(this.K=this.hmac().update(this.V).update([1]).update(a).digest(),this.V=this.hmac().update(this.V).digest())}generate(a){let b=[];for(;b.length<a;)this.V=this.hmac().update(this.V).digest(),b=b.concat(this.V);let c=b.slice(0,a);return this.update(),aR(c)}}function bv(a,b,c=new bs){let d=8*a.byteLength()-c.n.bitLength();return(d>0&&a.iushrn(d),!0!==b&&a.cmp(c.n)>=0)?a.sub(c.n):a}function bw(a){let b=a.toArray("be"),c=0n;for(let a=0;a<b.length;a++)c=c<<8n|BigInt(b[a]);return c}let bx=new bs,by=bx.n.byteLength(),bz=bx.n.subn(1),bA=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n>>1n,bB=(a,b,c=!1,d)=>{let e=bx.n.bitLength();if(a.bitLength()>e)throw Error(`ECDSA message is too large: expected <= ${e} bits. Callers must hash messages before signing.`);let f=bw(a=bv(a)),g=bw(b),h=new bu(b.toArray("be",by),a.toArray("be",by));for(let a=0;;a++){let b="function"==typeof d?d(a):j.isBN(d)?d:new j(h.generate(by),16);if(null==b)throw Error("k is undefined");if(0>(b=bv(b,!0)).cmpn(1)||b.cmp(bz)>0){if(j.isBN(d))throw Error("Invalid fixed custom K value (must be >1 and <N-1)");continue}let e=bx.g.mulCT(b);if(e.isInfinity()){if(j.isBN(d))throw Error("Invalid fixed custom K value (kG at infinity)");continue}let i=bo(BigInt("0x"+e.getX().toString(16)));if(0n===i){if(j.isBN(d))throw Error("Invalid fixed custom K value (r == 0)");continue}let k=bq(BigInt("0x"+b.toString(16))),l=bo(f+bp(i,g)),m=bp(k,l);if(0n===m){if(j.isBN(d))throw Error("Invalid fixed custom K value (s == 0)");continue}return c&&m>bA&&(m=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n-m),new bt(new j(i.toString(16),16),new j(m.toString(16),16))}},bC=(a,b,c)=>{let d=bx.n.bitLength();if(a.bitLength()>d)return!1;let e=bw(a);if(null==c.x||null==c.y)throw Error("Invalid public key: missing coordinates.");let f={x:bw(c.x),y:bw(c.y)},{r:g,s:h}={r:bw(b.r),s:bw(b.s)};if(g<=0n||g>=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n||h<=0n||h>=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n)return!1;let i=bq(h);if(0n===i)return!1;let j=bp(e,i),k=bp(g,i),l=bl(bn(j,{x:bh,y:bi}),bn(k,f));if(0n===l.Z)return!1;let m=bf(l.Z),n=be(m,m);return bo(be(l.X,n))===g};class bD extends br{static fromPrivateKey(a){let b=new bs().g.mul(a);return new bD(b.x,b.y)}static fromString(a){let b=br.fromString(a);return new bD(b.x,b.y)}static fromDER(a){let b=br.fromDER(a);return new bD(b.x,b.y)}constructor(a,b=null,c=!0){if(a instanceof br)super(a.getX(),a.getY());else{if(null===b&&c&&"string"==typeof a&&(66===a.length||130===a.length))throw Error('You are using the "new PublicKey()" constructor with a DER hex string. You need to use "PublicKey.fromString()" instead.');super(a,b,c)}}deriveSharedSecret(a){if(!this.validate())throw Error("Public key not valid for ECDH secret derivation");return this.mulCT(a)}verify(a,b,c){return bC(new j(Q(a,c),16),b,this)}toDER(a){return"hex"===a?this.encode(!0,a):this.encode(!0)}toHash(a){let b=S(this.encode(!0));return"hex"===a?aR(b):b}toAddress(a=[0]){if("string"==typeof a)if("testnet"===a||"test"===a)a=[111];else if("mainnet"===a||"main"===a)a=[0];else throw Error(`Invalid prefix ${a}`);return a0(this.toHash(),a)}deriveChild(a,b,c,d){let e;if("function"==typeof d){let b=d(a,this);void 0!==b?e=b:(e=this.deriveSharedSecret(a),"function"==typeof c&&c(a,this,e))}else e=this.deriveSharedSecret(a);let f=aS(b,"utf8"),g=T(e.encode(!0),f),h=new bs().g.mul(new j(g)),i=this.add(h);return new bD(i.x,i.y)}static fromMsgHashAndCompactSignature(a,b,c){let d=aS(b,c);if(65!==d.length)throw Error("Invalid Compact Signature");let e=d[0];if(e<27||e>=35)throw Error("Invalid Compact Byte");let f=d[0]-27;return f>3&&(f-=4),new bt(new j(d.slice(1,33)),new j(d.slice(33,65))).RecoverPublicKey(f,a)}}class bE{_rand;getRandomValues(a,b){let c=new Uint8Array(b);return a.crypto.getRandomValues(c),Array.from(c)}constructor(){const b=()=>{throw Error("No secure random number generator is available in this environment.")};if(this._rand=b,"u">typeof globalThis&&"function"==typeof globalThis.crypto?.getRandomValues){this._rand=a=>this.getRandomValues(globalThis,a);return}if("u">typeof process&&process.release?.name==="node")try{const b=a.r(54799);if("function"==typeof b.randomBytes){this._rand=a=>Array.from(b.randomBytes(a));return}}catch(a){}if("u">typeof self&&"function"==typeof self.crypto?.getRandomValues){this._rand=a=>this.getRandomValues(self,a);return}this._rand=b}generate(a){return this._rand(a)}}let bF=null,bG=a=>(null==bF&&(bF=new bE),bF.generate(a));class bH{x;y;constructor(a,b){const c=new bs().p;this.x=a.umod(c),this.y=b.umod(c)}toString(){return a_(this.x.toArray())+"."+a_(this.y.toArray())}static fromString(a){let[b,c]=a.split(".");return new bH(new j(a$(b)),new j(a$(c)))}}class bI{points;threshold;constructor(a,b){this.points=a,this.threshold=b??a.length}static fromPrivateKey(a,b){let c=new bs().p,d=[new bH(new j(0),new j(a.toArray()))];for(let a=1;a<b;a++){let a=new j(bG(32)).umod(c),b=new j(bG(32)).umod(c);d.push(new bH(a,b))}return new bI(d)}valueAt(a){let b=new bs().p,c=new j(0);for(let d=0;d<this.threshold;d++){let e=this.points[d].y;for(let c=0;c<this.threshold;c++)if(d!==c){let f=this.points[c].x,g=this.points[d].x,h=a.sub(f).umod(b),i=g.sub(f).umod(b).invm(b),j=h.mul(i).umod(b);e=e.mul(j).umod(b)}c=c.add(e).umod(b)}return c}}class bJ{points;threshold;integrity;constructor(a,b,c){this.points=a,this.threshold=b,this.integrity=c}static fromBackupFormat(a){let b=0,c="";return new bJ(a.map((a,d)=>{let e=a.split(".");if(4!==e.length)throw Error("Invalid share format in share "+d.toString()+'. Expected format: "x.y.t.i" - received '+a);let[f,g,h,i]=e;if(void 0===h)throw Error("Threshold not found in share "+d.toString());if(void 0===i)throw Error("Integrity not found in share "+d.toString());let j=parseInt(h);if(0!==d&&b!==j)throw Error("Threshold mismatch in share "+d.toString());if(0!==d&&c!==i)throw Error("Integrity mismatch in share "+d.toString());return b=j,c=i,bH.fromString([f,g].join("."))}),b,c)}toBackupFormat(){return this.points.map(a=>a.toString()+"."+this.threshold.toString()+"."+this.integrity)}}class bK extends j{static fromRandom(){return new bK(bG(32))}static fromString(a,b="hex"){return new bK(super.fromString(a,b).toArray())}static fromHex(a){return new bK(super.fromHex(a,"big"))}static fromWif(a,b=1){let c=a1(a,void 0,b);if(33!==c.data.length)throw Error("Invalid WIF length");if(1!==c.data[32])throw Error("Invalid WIF padding");return new bK(c.data.slice(0,32))}constructor(a=0,b=10,c="be",d="apply"){if(a instanceof j?(super(),a.copy(this)):super(a,b,c),"nocheck"!==d){const a=this.checkInField();if(!a.inField){if("error"===d)throw Error("Input is out of field");j.move(this,a.modN)}}}checkInField(){let a=new bs,b=this.mod(a.n);return{inField:0===this.cmp(b),modN:b}}isValid(){return this.checkInField().inField}sign(a,b,c=!0,d){return bB(new j(Q(a,b),16),this,c,d)}verify(a,b,c){return bC(new j(Q(a,c),16),b,this.toPublicKey())}toPublicKey(){let a=new bs().g.mulCT(this);return new bD(a.x,a.y)}toWif(a=[128]){if(!this.isValid())throw Error("Value is out of field");return a0([...this.toArray("be",32),1],a)}toAddress(a=[0]){return this.toPublicKey().toAddress(a)}toHex(){return super.toHex(32)}toString(a="hex",b=64){return super.toString(a,b)}deriveSharedSecret(a){if(!a.validate())throw Error("Public key not valid for ECDH secret derivation");return a.mulCT(this)}deriveChild(a,b,c,d){let e;if("function"==typeof d){let b=d(this,a);void 0!==b?e=b:(e=this.deriveSharedSecret(a),"function"==typeof c&&c(this,a,e))}else e=this.deriveSharedSecret(a);let f=aS(b,"utf8"),g=T(e.encode(!0),f),h=new bs;return new bK(this.add(new j(g)).mod(h.n).toArray())}toKeyShares(a,b){if("number"!=typeof a||"number"!=typeof b)throw Error("threshold and totalShares must be numbers");if(a<2)throw Error("threshold must be at least 2");if(b<2)throw Error("totalShares must be at least 2");if(a>b)throw Error("threshold should be less than or equal to totalShares");let c=bI.fromPrivateKey(this,a),d=[],e=new Set,f=new bs,g=bG(64);for(let a=0;a<b;a++){let b,h=0;do if(b=new j(U(g,[a,h,...bG(32)])).umod(f.p),++h>5)throw Error("Failed to generate unique x coordinate after 5 attempts");while(b.isZero()||e.has(b.toString()))e.add(b.toString());let i=c.valueAt(b);d.push(new bH(b,i))}return new bJ(d,a,this.toPublicKey().toHash("hex").slice(0,8))}toBackupShares(a,b){return this.toKeyShares(a,b).toBackupFormat()}static fromBackupShares(a){return bK.fromKeyShares(bJ.fromBackupFormat(a))}static fromKeyShares(a){let{points:b,threshold:c,integrity:d}=a;if(c<2)throw Error("threshold must be at least 2");if(b.length<c)throw Error(`At least ${c} shares are required to reconstruct the private key`);for(let a=0;a<c;a++)for(let d=a+1;d<c;d++)if(b[a].x.eq(b[d].x))throw Error("Duplicate share detected, each must be unique.");let e=new bK(new bI(b,c).valueAt(new j(0)).toArray());if(e.toPublicKey().toHash("hex").slice(0,8)!==d)throw Error("Integrity hash mismatch");return e}}let bL=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),bM=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]].map(a=>new Uint8Array(a)),bN=new Uint8Array(256),bO=new Uint8Array(256);for(let a=0;a<256;a++){let b=(a<<1^27*((128&a)!=0))&255;bN[a]=b,bO[a]=b^a}function bP(a,b,c){for(let d=0;d<4;d++){let e=b[c+d];for(let b=0;b<4;b++)a[b][d]^=e[b]}}function bQ(a){for(let b=0;b<4;b++)a[b]=bL[a[b]]}function bR(a,b){let c,d,e,f,g=[[],[],[],[]],h=[],i=Array.from(b);if(16===i.length)f=11;else if(24===i.length)f=13;else if(32===i.length)f=15;else throw Error("Illegal key length: "+String(i.length));let j=function(a,b){let c=b.length/4,d=[];for(let a=0;a<b.length;a++)a%4==0&&d.push([]),d[a>>2].push(b[a]);for(let b=c;b<4*a;b++){d[b]=[];let a=d[b-1].slice();if(b%c==0){!function(a){let b=a[0];a[0]=a[1],a[1]=a[2],a[2]=a[3],a[3]=b}(a),bQ(a);let d=bM[b/c];for(let b=0;b<4;b++)a[b]^=d[b]}else c>6&&b%c==4&&bQ(a);for(let e=0;e<4;e++)d[b][e]=d[b-c][e]^a[e]}return d}(f,i);for(let b=0;b<4;b++)g[0][b]=a[4*b],g[1][b]=a[4*b+1],g[2][b]=a[4*b+2],g[3][b]=a[4*b+3];for(bP(g,j,0),e=1;e<f;e++){for(let a=0;a<4;a++)for(let b=0;b<4;b++)g[a][b]=bL[g[a][b]];!function(a){let b=a[1][0];a[1][0]=a[1][1],a[1][1]=a[1][2],a[1][2]=a[1][3],a[1][3]=b,b=a[2][0];let c=a[2][1];a[2][0]=a[2][2],a[2][1]=a[2][3],a[2][2]=b,a[2][3]=c,b=a[3][3],a[3][3]=a[3][2],a[3][2]=a[3][1],a[3][1]=a[3][0],a[3][0]=b}(g),e+1<f&&function(a){for(let b=0;b<4;b++){let c=a[0][b],d=a[1][b],e=a[2][b],f=a[3][b];a[0][b]=bN[c]^bO[d]^e^f,a[1][b]=c^bN[d]^bO[e]^f,a[2][b]=c^d^bN[e]^bO[f],a[3][b]=bO[c]^d^e^bN[f]}}(g),bP(g,j,4*e)}for(c=0;c<4;c++)for(d=0;d<4;d++)h.push(g[d][c]);return h}let bS=function(a){if(a<0||a>Number.MAX_SAFE_INTEGER)throw Error("getBytes64: value out of range");let b=Math.floor(a/0x100000000),c=a>>>0;return[b>>>24&255,b>>>16&255,b>>>8&255,255&b,c>>>24&255,c>>>16&255,c>>>8&255,255&c]},bT=function(a){return new Uint8Array(a)},bU=((f=new Uint8Array(16))[0]=225,f),bV=(...a)=>{let b=0;for(let c of a)b+=c.length;let c=new Uint8Array(b),d=0;for(let b of a)c.set(b,d),d+=b.length;return c},bW=function(a){let b=0,c=0;for(let d=0;d<a.length;d++)c=b,b=1&a[d],a[d]=a[d]>>1,0!==c&&(a[d]=128|a[d]);return a},bX=function(a,b){let c=b.slice(),d=bT(16);for(let b=0;b<16;b++){let e=a[b];for(let a=7;a>=0;a--){let b=255&-(e>>a&1);for(let a=0;a<16;a++)d[a]^=c[a]&b;let f=255&-(1&c[15]);bW(c);for(let a=0;a<16;a++)c[a]^=bU[a]&f}}return d},bY=function(a){let b=a.slice();for(let a=15;a>11&&(b[a]=b[a]+1&255,0===b[a]);a--);return b};function bZ(a,b){let c=bT(16),d=new Uint8Array(16);for(let e=0;e<a.length;e+=16){d.set(c);for(let b=0;b<16;b++)d[b]^=a[e+b]??0;c=bX(d,b)}return c}function b$(a,b,c){if(0===a.length)return new Uint8Array(0);let d=new Uint8Array(a.length),e=b.slice(),f=0,g=Math.ceil(a.length/16);for(let b=0;b<g;b++){let h=bR(e,c),i=Math.min(16,a.length-f);for(let b=0;b<i;b++)d[f]=a[f]^h[b],f++;b+1<g&&(e=bY(e))}return d}function b_(a){let b,c,d=8*a.length;b=0===a.length?16:a.length%16==0?0:16-a.length%16;let e=new Uint8Array(16+a.length+b+16);c=16,e.set(a,c),c+=a.length,c+=b;let f=bS(0);e.set(f,c),c+=8;let g=bS(d);return e.set(g,c),e}class b0 extends j{static fromRandom(){return new b0(bG(32))}encrypt(a,b){let c=new Uint8Array(bG(32)),{result:d,authenticationTag:e}=function(a,b,c){let d;if(0===b.length)throw Error("Initialization vector must not be empty");if(0===c.length)throw Error("Key must not be empty");let e=new Uint8Array(bR(bT(16),c));if(12===b.length)d=bV(b,bT(3),new Uint8Array([1]));else{let a=b;a.length%16!=0&&(a=bV(a,bT(16-a.length%16)));let c=bS(8*b.length);d=bZ(bV(a,bT(8),new Uint8Array(c)),e)}let f=b$(a,bY(d),c),g=b$(bZ(b_(f),e),d,c);return{result:f,authenticationTag:g}}(new Uint8Array(aS(a,b)),c,new Uint8Array(this.toArray("be",32))),f=new Uint8Array(c.length+d.length+e.length),g=0;return f.set(c,g),g+=c.length,f.set(d,g),g+=d.length,f.set(e,g),aX(Array.from(f),b)}decrypt(a,b){let c=new Uint8Array(aS(a,b));if(c.length<48)throw Error("Ciphertext too short");let d=c.slice(0,32),e=c.length-16,f=function(a,b,c,d){let e;if(0===a.length)throw Error("Cipher text must not be empty");if(0===b.length)throw Error("Initialization vector must not be empty");if(0===d.length)throw Error("Key must not be empty");let f=new Uint8Array(bR(bT(16),d));if(12===b.length)e=bV(b,bT(3),new Uint8Array([1]));else{let a=b;a.length%16!=0&&(a=bV(a,bT(16-a.length%16)));let c=bS(8*b.length);e=bZ(bV(a,bT(8),new Uint8Array(c)),f)}let g=b$(a,bY(e),d),h=b$(bZ(b_(a),f),e,d);if(h.length!==c.length)return null;let i=0;for(let a=0;a<h.length;a++)i|=h[a]^c[a];return 0!==i?null:g}(c.slice(32,e),d,c.slice(e),new Uint8Array(this.toArray("be",32)));if(null===f)throw Error("Decryption failed!");return aX(Array.from(f),b)}}new Uint8Array(0);class b1{curve;constructor(){this.curve=new bs}generateProof(a,b,c,d){let e=bK.fromRandom(),f=e.toPublicKey(),g=c.mul(e),h=this.computeChallenge(b,c,d,g,f);return{R:f,SPrime:g,z:e.add(h.mul(a)).umod(this.curve.n)}}verifyProof(a,b,c,d){let{R:e,SPrime:f,z:g}=d,h=this.computeChallenge(a,b,c,f,e),i=this.curve.g.mul(g),j=e.add(a.mul(h));if(!i.eq(j))return!1;let k=b.mul(g),l=f.add(c.mul(h));return!!k.eq(l)}computeChallenge(a,b,c,d,e){return new j(Q([...a.encode(!0),...b.encode(!0),...c.encode(!0),...d.encode(!0),...e.encode(!0)])).umod(this.curve.n)}}BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5");let b2={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_SPLIT:127,OP_LEFT:128,OP_NUM2BIN:128,OP_RIGHT:129,OP_BIN2NUM:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_NOP11:186,OP_NOP12:187,OP_NOP13:188,OP_NOP14:189,OP_NOP15:190,OP_NOP16:191,OP_NOP17:192,OP_NOP18:193,OP_NOP19:194,OP_NOP20:195,OP_NOP21:196,OP_NOP22:197,OP_NOP23:198,OP_NOP24:199,OP_NOP25:200,OP_NOP26:201,OP_NOP27:202,OP_NOP28:203,OP_NOP29:204,OP_NOP30:205,OP_NOP31:206,OP_NOP32:207,OP_NOP33:208,OP_NOP34:209,OP_NOP35:210,OP_NOP36:211,OP_NOP37:212,OP_NOP38:213,OP_NOP39:214,OP_NOP40:215,OP_NOP41:216,OP_NOP42:217,OP_NOP43:218,OP_NOP44:219,OP_NOP45:220,OP_NOP46:221,OP_NOP47:222,OP_NOP48:223,OP_NOP49:224,OP_NOP50:225,OP_NOP51:226,OP_NOP52:227,OP_NOP53:228,OP_NOP54:229,OP_NOP55:230,OP_NOP56:231,OP_NOP57:232,OP_NOP58:233,OP_NOP59:234,OP_NOP60:235,OP_NOP61:236,OP_NOP62:237,OP_NOP63:238,OP_NOP64:239,OP_NOP65:240,OP_NOP66:241,OP_NOP67:242,OP_NOP68:243,OP_NOP69:244,OP_NOP70:245,OP_NOP71:246,OP_NOP72:247,OP_NOP73:248,OP_NOP77:252,OP_SMALLDATA:249,OP_SMALLINTEGER:250,OP_PUBKEYS:251,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};for(let a in b2)b2[b2[a]]=a;"u">typeof globalThis&&globalThis.Buffer;BigInt(0x7fffffff),Object.freeze(new j(-1).toScriptNum()),Object.freeze(Array.from({length:17},(a,b)=>Object.freeze(new j(b).toScriptNum())));a.s([],15948);var b3,b4,b5,b6,b7,b8,b9,ca,cb=a.i(65997),cb=cb,cc=a.i(75248),cc=cc;"u">typeof globalThis&&globalThis.Buffer;(b3=b7||(b7={}))[b3.RAWTX=0]="RAWTX",b3[b3.RAWTX_AND_BUMP_INDEX=1]="RAWTX_AND_BUMP_INDEX",b3[b3.TXID_ONLY=2]="TXID_ONLY";"u">typeof globalThis&&globalThis.Buffer;let cd="42423301";a.s(["sign",0,(a,b,c)=>{let d="object"!=typeof c;if(d){let a=new bs,b=new bK(1),d=a.g.mul(b);c=new bD(d.x,d.y)}let e=bG(32),f=aY(e),g=`2-message signing-${f}`,h=b.deriveChild(c,g).sign(a).toDER(),i=b.toPublicKey().encode(!0);return[...aS(cd,"hex"),...i,...d?[0]:c.encode(!0),...e,...h]},"verify",0,(a,b,c)=>{let d=new a3(b),e=aR(d.read(4));if(e!==cd)throw Error(`Message version mismatch: Expected ${cd}, received ${e}`);let f=bD.fromString(aR(d.read(33))),[g]=d.read(1);if(0===g)c=new bK(1);else{let a=aR([g,...d.read(32)]);if("object"!=typeof c)throw Error(`This signature can only be verified with knowledge of a specific private key. The associated public key is: ${a}`);let b=c.toPublicKey().encode(!0,"hex");if(a!==b)throw Error(`The recipient public key is ${b} but the signature requres the recipient to have public key ${a}`)}let h=aY(d.read(32)),i=aR(d.read(d.bin.length-d.pos)),j=bt.fromDER(i,"hex"),k=`2-message signing-${h}`;return f.deriveChild(c,k).verify(a,j)}],38515);let ce="42421033";a.s(["decrypt",0,(a,b)=>{let c=new a3(a),d=aR(c.read(4));if(d!==ce)throw Error(`Message version mismatch: Expected ${ce}, received ${d}`);let e=bD.fromString(aR(c.read(33))),f=aR(c.read(33)),g=b.toPublicKey().encode(!0,"hex");if(f!==g)throw Error(`The encrypted message expects a recipient public key of ${f}, but the provided key is ${g}`);let h=aY(c.read(32)),i=c.read(c.bin.length-c.pos),j=`2-message encryption-${h}`,k=e.deriveChild(b,j),l=b.deriveChild(e,j);return new b0(k.deriveSharedSecret(l).encode(!0).slice(1)).decrypt(i)},"encrypt",0,(a,b,c)=>{let d=bG(32),e=aY(d),f=`2-message encryption-${e}`,g=b.deriveChild(c,f),h=c.deriveChild(b,f),i=new b0(g.deriveSharedSecret(h).encode(!0).slice(1)).encrypt(a),j=b.toPublicKey().encode(!0);return[...aS(ce,"hex"),...j,...c.encode(!0),...d,...i]}],5217),a.s([],69786),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),(b4=b8||(b8={}))[b4.Silent=0]="Silent",b4[b4.App=1]="App",b4[b4.Counterparty=2]="Counterparty";var cc=cc,cb=cb;class cf{cacheSharedSecret;retrieveCachedSharedSecret;rootKey;identityKey;anyone;constructor(a,b,c){this.cacheSharedSecret=b,this.retrieveCachedSharedSecret=c,this.anyone=new bK(1).toPublicKey(),"anyone"===a?this.rootKey=new bK(1):this.rootKey=a,this.identityKey=this.rootKey.toPublicKey().toString()}derivePublicKey(a,b,c,d=!1){return(c=this.normalizeCounterparty(c),d)?this.rootKey.deriveChild(c,this.computeInvoiceNumber(a,b),this.cacheSharedSecret,this.retrieveCachedSharedSecret).toPublicKey():c.deriveChild(this.rootKey,this.computeInvoiceNumber(a,b),this.cacheSharedSecret,this.retrieveCachedSharedSecret)}derivePrivateKey(a,b,c){return c=this.normalizeCounterparty(c),this.rootKey.deriveChild(c,this.computeInvoiceNumber(a,b),this.cacheSharedSecret,this.retrieveCachedSharedSecret)}deriveSymmetricKey(a,b,c){c="anyone"===c?this.anyone:this.normalizeCounterparty(c);let d=this.derivePublicKey(a,b,c),e=this.derivePrivateKey(a,b,c);return new b0(e.deriveSharedSecret(d)?.x?.toArray()??[])}revealCounterpartySecret(a){if("self"===a)throw Error("Counterparty secrets cannot be revealed for counterparty=self.");a=this.normalizeCounterparty(a);let b=this.rootKey.toPublicKey();if(this.rootKey.deriveChild(b,"test").toHex()===this.rootKey.deriveChild(a,"test").toHex())throw Error("Counterparty secrets cannot be revealed for counterparty=self.");return this.rootKey.deriveSharedSecret(a).encode(!0)}revealSpecificSecret(a,b,c){a=this.normalizeCounterparty(a);let d=this.rootKey.deriveSharedSecret(a),e=cb.toArray(this.computeInvoiceNumber(b,c),"utf8");return cc.sha256hmac(d.encode(!0),e)}normalizeCounterparty(a){if(null==a)throw Error("counterparty must be self, anyone or a public key!");return"self"===a?this.rootKey.toPublicKey():"anyone"===a?new bK(1).toPublicKey():"string"==typeof a?bD.fromString(a):a}computeInvoiceNumber(a,b){let c=a[0];if(!Number.isInteger(c)||c<0||c>2)throw Error("Protocol security level must be 0, 1, or 2");let d=a[1].toLowerCase().trim();if(b.length>800)throw Error("Key IDs must be 800 characters or less");if(b.length<1)throw Error("Key IDs must be 1 character or more");if(d.length>400)if(d.startsWith("specific linkage revelation ")){if(d.length>430)throw Error("Specific linkage revelation protocol names must be 430 characters or less")}else throw Error("Protocol names must be 400 characters or less");if(d.length<5)throw Error("Protocol names must be 5 characters or more");if(d.includes("  "))throw Error('Protocol names cannot contain multiple consecutive spaces ("  ")');if(!/^[a-z0-9 ]+$/g.test(d))throw Error("Protocol names can only contain letters, numbers and spaces");if(d.endsWith(" protocol"))throw Error('No need to end your protocol name with " protocol"');return`${c}-${d}-${b}`}}class cg{keyDeriver;cache;maxCacheSize;rootKey;identityKey;constructor(a,b){"anyone"===a?this.rootKey=new bK(1):this.rootKey=a,this.keyDeriver=new cf(this.rootKey,(a,b,c)=>{this.cacheSet(`${a.toString()}-${b.toString()}`,c)},(a,b)=>this.cacheGet(`${a.toString()}-${b.toString()}`)),this.identityKey=this.rootKey.toPublicKey().toString(),this.cache=new Map;const c=b?.maxCacheSize;this.maxCacheSize=null!=c&&!isNaN(c)&&c>0?c:1e3}derivePublicKey(a,b,c,d=!1){let e=this.generateCacheKey("derivePublicKey",a,b,c,d);if(this.cache.has(e)){let a=this.cacheGet(e);if(void 0===a)throw Error("Cached value is undefined");return a}{let f=this.keyDeriver.derivePublicKey(a,b,c,d);return this.cacheSet(e,f),f}}derivePrivateKey(a,b,c){let d=this.generateCacheKey("derivePrivateKey",a,b,c);if(this.cache.has(d)){let a=this.cacheGet(d);if(void 0===a)throw Error("Cached value is undefined");return a}{let e=this.keyDeriver.derivePrivateKey(a,b,c);return this.cacheSet(d,e),e}}deriveSymmetricKey(a,b,c){let d=this.generateCacheKey("deriveSymmetricKey",a,b,c);if(this.cache.has(d)){let a=this.cacheGet(d);if(void 0===a)throw Error("Cached value is undefined");return a}{let e=this.keyDeriver.deriveSymmetricKey(a,b,c);return this.cacheSet(d,e),e}}revealCounterpartySecret(a){let b=this.generateCacheKey("revealCounterpartySecret",a);if(this.cache.has(b)){let a=this.cacheGet(b);if(void 0===a)throw Error("Cached value is undefined");return a}{let c=this.keyDeriver.revealCounterpartySecret(a);return this.cacheSet(b,c),c}}revealSpecificSecret(a,b,c){let d=this.generateCacheKey("revealSpecificSecret",a,b,c);if(this.cache.has(d)){let a=this.cacheGet(d);if(void 0===a)throw Error("Cached value is undefined");return a}{let e=this.keyDeriver.revealSpecificSecret(a,b,c);return this.cacheSet(d,e),e}}generateCacheKey(a,...b){let c=b.map(a=>this.serializeArgument(a)).join("|");return`${a}|${c}`}serializeArgument(a){return a instanceof bD||a instanceof bK?a.toString():Array.isArray(a)?a.map(a=>this.serializeArgument(a)).join(","):"object"==typeof a&&null!==a?JSON.stringify(a):String(a)}cacheGet(a){let b=this.cache.get(a);return this.cache.delete(a),void 0!==b&&this.cache.set(a,b),b}cacheSet(a,b){if(this.cache.size>=this.maxCacheSize){let a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(a,b)}}var cc=cc,ch=a.i(39814),ch=ch;class ci{keyDeriver;constructor(a){"string"!=typeof a.identityKey&&(a=new cg(a)),this.keyDeriver=a}async getPublicKey(a){if(a.identityKey){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");return{publicKey:this.keyDeriver.rootKey.toPublicKey().toString()}}if(null==a.protocolID||null==a.keyID||""===a.keyID)throw Error("protocolID and keyID are required if identityKey is false or undefined.");return{publicKey:(this.keyDeriver??(()=>{throw Error("keyDeriver is undefined")})()).derivePublicKey(a.protocolID,a.keyID,a.counterparty??"self",a.forSelf).toString()}}async revealCounterpartyKeyLinkage(a){let{publicKey:b}=await this.getPublicKey({identityKey:!0});if(null==this.keyDeriver)throw Error("keyDeriver is undefined");let c=this.keyDeriver.revealCounterpartySecret(a.counterparty),d=new b1().generateProof(this.keyDeriver.rootKey,this.keyDeriver.rootKey.toPublicKey(),bD.fromString(a.counterparty),br.fromDER(c)),e=[...d.R.encode(!0),...d.SPrime.encode(!0),...d.z.toArray()],f=new Date().toISOString(),{ciphertext:g}=await this.encrypt({plaintext:c,protocolID:[2,"counterparty linkage revelation"],keyID:f,counterparty:a.verifier}),{ciphertext:h}=await this.encrypt({plaintext:e,protocolID:[2,"counterparty linkage revelation"],keyID:f,counterparty:a.verifier});return{prover:b,verifier:a.verifier,counterparty:a.counterparty,revelationTime:f,encryptedLinkage:g,encryptedLinkageProof:h}}async revealSpecificKeyLinkage(a){let{publicKey:b}=await this.getPublicKey({identityKey:!0});if(null==this.keyDeriver)throw Error("keyDeriver is undefined");let c=this.keyDeriver.revealSpecificSecret(a.counterparty,a.protocolID,a.keyID),{ciphertext:d}=await this.encrypt({plaintext:c,protocolID:[2,`specific linkage revelation ${a.protocolID[0]} ${a.protocolID[1]}`],keyID:a.keyID,counterparty:a.verifier}),{ciphertext:e}=await this.encrypt({plaintext:[0],protocolID:[2,`specific linkage revelation ${a.protocolID[0]} ${a.protocolID[1]}`],keyID:a.keyID,counterparty:a.verifier});return{prover:b,verifier:a.verifier,counterparty:a.counterparty,protocolID:a.protocolID,keyID:a.keyID,encryptedLinkage:d,encryptedLinkageProof:e,proofType:0}}async encrypt(a){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");return{ciphertext:this.keyDeriver.deriveSymmetricKey(a.protocolID,a.keyID,a.counterparty??"self").encrypt(a.plaintext)}}async decrypt(a,b){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");return{plaintext:this.keyDeriver.deriveSymmetricKey(a.protocolID,a.keyID,a.counterparty??"self").decrypt(a.ciphertext)}}async createHmac(a){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");let b=this.keyDeriver.deriveSymmetricKey(a.protocolID,a.keyID,a.counterparty??"self");return{hmac:cc.sha256hmac(b.toArray(),a.data)}}async verifyHmac(a){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");let b=this.keyDeriver.deriveSymmetricKey(a.protocolID,a.keyID,a.counterparty??"self"),c=cc.sha256hmac(b.toArray(),a.data),d=a.hmac,e=a8(aS(c),aS(d));if(!e){let a=Error("HMAC is not valid");throw a.code="ERR_INVALID_HMAC",a}return{valid:e}}async createSignature(a){if(null==a.hashToDirectlySign&&null==a.data)throw Error("args.data or args.hashToDirectlySign must be valid");let b=a.hashToDirectlySign??cc.sha256(a.data??[]),c=(this.keyDeriver??(()=>{throw Error("keyDeriver is undefined")})()).derivePrivateKey(a.protocolID,a.keyID,a.counterparty??"anyone");return{signature:ch.sign(new j(b),c,!0).toDER()}}async verifySignature(a){if(null==a.hashToDirectlyVerify&&null==a.data)throw Error("args.data or args.hashToDirectlyVerify must be valid");let b=a.hashToDirectlyVerify??cc.sha256(a.data??[]),c=(this.keyDeriver??(()=>{throw Error("keyDeriver is undefined")})()).derivePublicKey(a.protocolID,a.keyID,a.counterparty??"self",a.forSelf),d=ch.verify(new j(b),bt.fromDER(a.signature),c);if(!d){let a=Error("Signature is not valid");throw a.code="ERR_INVALID_SIGNATURE",a}return{valid:d}}}(b5=b9||(b9={}))[b5.unknownError=1]="unknownError",b5[b5.unsupportedAction=2]="unsupportedAction",b5[b5.invalidHmac=3]="invalidHmac",b5[b5.invalidSignature=4]="invalidSignature",b5[b5.reviewActions=5]="reviewActions",b5[b5.invalidParameter=6]="invalidParameter",b5[b5.insufficientFunds=7]="insufficientFunds";class cj{type;serialNumber;subject;certifier;revocationOutpoint;fields;signature;constructor(a,b,c,d,e,f,g){this.type=a,this.serialNumber=b,this.subject=c,this.certifier=d,this.revocationOutpoint=e,this.fields=f,this.signature=g}toBinary(a=!0){let b=new a2,c=aS(this.type,"base64");b.write(c);let d=aS(this.serialNumber,"base64");b.write(d);let e=aS(this.subject,"hex");b.write(e);let f=aS(this.certifier,"hex");b.write(f);let[g,h]=this.revocationOutpoint.split("."),i=aS(g,"hex");b.write(i),b.writeVarIntNum(Number(h));let j=Object.keys(this.fields).sort();for(let a of(b.writeVarIntNum(j.length),j)){let c=this.fields[a],d=aS(a,"utf8");b.writeVarIntNum(d.length),b.write(d);let e=aS(c,"utf8");b.writeVarIntNum(e.length),b.write(e)}if(a&&(this.signature??"").length>0){let a=aS(this.signature,"hex");b.write(a)}return b.toArray()}static fromBinary(a){let b,c=new a3(a),d=aY(c.read(32)),e=aY(c.read(32)),f=aR(c.read(33)),g=aR(c.read(33)),h=aR(c.read(32)),i=c.readVarIntNum(),j=`${h}.${i}`,k=c.readVarIntNum(),l={};for(let a=0;a<k;a++){let a=c.readVarIntNum(),b=aW(c.read(a)),d=c.readVarIntNum(),e=aW(c.read(d));l[b]=e}if(!c.eof()){let a=c.read();b=bt.fromDER(a).toString("hex")}return new cj(d,e,f,g,j,l,b)}async verify(){let a=new ci("anyone"),b=this.toBinary(!1),c=this.signature??"",{valid:d}=await a.verifySignature({signature:aS(c,"hex"),data:b,protocolID:[2,"certificate signature"],keyID:`${this.type} ${this.serialNumber}`,counterparty:this.certifier});return d}async sign(a){if(null!=this.signature&&this.signature.length>0)throw Error(`Certificate has already been signed! Signature present: ${this.signature}`);this.certifier=(await a.getPublicKey({identityKey:!0})).publicKey;let b=this.toBinary(!1),{signature:c}=await a.createSignature({data:b,protocolID:[2,"certificate signature"],keyID:`${this.type} ${this.serialNumber}`});this.signature=aR(c)}static getCertificateFieldEncryptionDetails(a,b){return{protocolID:[2,"certificate field encryption"],keyID:b?`${b} ${a}`:a}}static fromObject(a){return new cj(a.type,a.serialNumber,a.subject,a.certifier,a.revocationOutpoint,a.fields,a.signature)}}(b6=ca||(ca={}))[b6.createAction=1]="createAction",b6[b6.signAction=2]="signAction",b6[b6.abortAction=3]="abortAction",b6[b6.listActions=4]="listActions",b6[b6.internalizeAction=5]="internalizeAction",b6[b6.listOutputs=6]="listOutputs",b6[b6.relinquishOutput=7]="relinquishOutput",b6[b6.getPublicKey=8]="getPublicKey",b6[b6.revealCounterpartyKeyLinkage=9]="revealCounterpartyKeyLinkage",b6[b6.revealSpecificKeyLinkage=10]="revealSpecificKeyLinkage",b6[b6.encrypt=11]="encrypt",b6[b6.decrypt=12]="decrypt",b6[b6.createHmac=13]="createHmac",b6[b6.verifyHmac=14]="verifyHmac",b6[b6.createSignature=15]="createSignature",b6[b6.verifySignature=16]="verifySignature",b6[b6.acquireCertificate=17]="acquireCertificate",b6[b6.listCertificates=18]="listCertificates",b6[b6.proveCertificate=19]="proveCertificate",b6[b6.relinquishCertificate=20]="relinquishCertificate",b6[b6.discoverByIdentityKey=21]="discoverByIdentityKey",b6[b6.discoverByAttributes=22]="discoverByAttributes",b6[b6.isAuthenticated=23]="isAuthenticated",b6[b6.waitForAuthentication=24]="waitForAuthentication",b6[b6.getHeight=25]="getHeight",b6[b6.getHeaderForHeight=26]="getHeaderForHeight",b6[b6.getNetwork=27]="getNetwork",b6[b6.getVersion=28]="getVersion";class ck extends cj{keyring;decryptedFields;constructor(a,b,c,d,e,f,g,h,i){super(a,b,c,d,e,f,h),this.keyring=g,this.decryptedFields=i}static fromCertificate(a,b){return new ck(a.type,a.serialNumber,a.subject,a.certifier,a.revocationOutpoint,a.fields,b,a.signature)}async decryptFields(a,b,c,d){if(null==this.keyring||0===Object.keys(this.keyring).length)throw Error("A keyring is required to decrypt certificate fields for the verifier.");try{let e={};for(let f in this.keyring){let{plaintext:g}=await a.decrypt({ciphertext:aS(this.keyring[f],"base64"),...cj.getCertificateFieldEncryptionDetails(f,this.serialNumber),counterparty:this.subject,privileged:b,privilegedReason:c},d),h=new b0(g).decrypt(aS(this.fields[f],"base64"));e[f]=aW(h)}return e}catch(a){throw Error(`Failed to decrypt selectively revealed certificate fields using keyring: ${String(a instanceof Error?a.message:a)}`)}}}class cl{sessionNonceToSession;identityKeyToNonces;constructor(){this.sessionNonceToSession=new Map,this.identityKeyToNonces=new Map}addSession(a){if("string"!=typeof a.sessionNonce)throw Error("Invalid session: sessionNonce is required to add a session.");if(this.sessionNonceToSession.set(a.sessionNonce,a),"string"==typeof a.peerIdentityKey){let b=this.identityKeyToNonces.get(a.peerIdentityKey);null==b&&(b=new Set,this.identityKeyToNonces.set(a.peerIdentityKey,b)),b.add(a.sessionNonce)}}updateSession(a){this.removeSession(a),this.addSession(a)}getSession(a){let b,c=this.sessionNonceToSession.get(a);if(null!=c)return c;let d=this.identityKeyToNonces.get(a);if(null!=d&&0!==d.size){for(let a of d){let c=this.sessionNonceToSession.get(a);null!=c&&(null==b?b=c:(c.lastUpdate??0)>(b.lastUpdate??0)&&(b=c))}return b}}removeSession(a){if("string"==typeof a.sessionNonce&&this.sessionNonceToSession.delete(a.sessionNonce),"string"==typeof a.peerIdentityKey){let b=this.identityKeyToNonces.get(a.peerIdentityKey);null!=b&&(b.delete(a.sessionNonce??""),0===b.size&&this.identityKeyToNonces.delete(a.peerIdentityKey))}}hasSession(a){if(this.sessionNonceToSession.has(a))return!0;let b=this.identityKeyToNonces.get(a);return null!=b&&b.size>0}}async function cm(a,b,c="self",d){let e=aS(a,"base64"),f=e.slice(0,16),g=e.slice(16),{valid:h}=await b.verifyHmac({data:f,hmac:g,protocolID:[2,"server hmac"],keyID:aW(f),counterparty:c},d);return h}async function cn(a,b="self",c){let d=bG(16),{hmac:e}=await a.createHmac({protocolID:[2,"server hmac"],keyID:aW(d),data:d,counterparty:b},c);return aY([...d,...e])}let co=async(a,b,c,d)=>{let e=await a.listCertificates({certifiers:b.certifiers,types:Object.keys(b.types)},d);return await Promise.all(e.certificates.map(async e=>{let{keyringForVerifier:f}=await a.proveCertificate({certificate:e,fieldsToReveal:b.types[e.type],verifier:c},d);return new ck(e.type,e.serialNumber,e.subject,e.certifier,e.revocationOutpoint,e.fields,f,e.signature)}))},cp=async(a,b,c,d)=>{if(null==b.certificates||0===b.certificates.length)throw Error("No certificates were provided in the AuthMessage.");await Promise.all(b.certificates.map(async e=>{if(e.subject!==b.identityKey)throw Error(`The subject of one of your certificates ("${e.subject}") is not the same as the request sender ("${b.identityKey}").`);let f=new ck(e.type,e.serialNumber,e.subject,e.certifier,e.revocationOutpoint,e.fields,e.keyring,e.signature);if(!await f.verify())throw Error(`The signature for the certificate with serial number ${f.serialNumber} is invalid!`);if(null!=c){let{certifiers:a,types:b}=c;if(!a.includes(f.certifier))throw Error(`Certificate with serial number ${f.serialNumber} has an unrequested certifier: ${f.certifier}`);if(null==b[f.type])throw Error(`Certificate with type ${f.type} was not requested`)}await f.decryptFields(a,void 0,void 0,d)}))},cq="u">typeof globalThis?globalThis.Buffer:void 0;class cr{sessionManager;transport;wallet;certificatesToRequest;onGeneralMessageReceivedCallbacks=new Map;onCertificatesReceivedCallbacks=new Map;onCertificateRequestReceivedCallbacks=new Map;onInitialResponseReceivedCallbacks=new Map;callbackIdCounter=0;autoPersistLastSession=!0;lastInteractedWithPeer;originator;identityPublicKey;constructor(a,b,c,d,e,f){this.wallet=a,this.originator=f,this.transport=b,this.certificatesToRequest=c??{certifiers:[],types:{}},this.transport.onData(this.handleIncomingMessage.bind(this)).catch(a=>{throw a}),this.sessionManager=null!=d?d:new cl,!1===e?this.autoPersistLastSession=!1:this.autoPersistLastSession=!0}async toPeer(a,b,c){this.autoPersistLastSession&&"string"==typeof this.lastInteractedWithPeer&&"string"!=typeof b&&(b=this.lastInteractedWithPeer);let d=await this.getAuthenticatedSession(b,c);if(null==d.peerIdentityKey)throw Error("Peer identity is not established");if(!0===d.certificatesRequired&&!0!==d.certificatesValidated)throw Error("Cannot send general message before certificate validation is complete");let e=aY(bG(32)),{signature:f}=await this.wallet.createSignature({data:a,protocolID:[2,"auth message signature"],keyID:`${e} ${d.peerNonce??""}`,counterparty:d.peerIdentityKey},this.originator),g={version:"0.1",messageType:"general",identityKey:await this.getIdentityPublicKey(),nonce:e,yourNonce:d.peerNonce,payload:a,signature:f};d.lastUpdate=Date.now(),this.sessionManager.updateSession(d);try{await this.transport.send(g)}catch(a){this.propagateTransportError(d.peerIdentityKey,a)}}async requestCertificates(a,b,c=1e4){this.autoPersistLastSession&&"string"==typeof this.lastInteractedWithPeer&&"string"!=typeof b&&(b=this.lastInteractedWithPeer);let d=await this.getAuthenticatedSession(b,c),e=aY(bG(32)),{signature:f}=await this.wallet.createSignature({data:cr.utf8ToBytes(JSON.stringify(a)),protocolID:[2,"auth message signature"],keyID:`${e} ${d.peerNonce??""}`,counterparty:d.peerIdentityKey},this.originator),g={version:"0.1",messageType:"certificateRequest",identityKey:await this.getIdentityPublicKey(),nonce:e,initialNonce:d.sessionNonce,yourNonce:d.peerNonce,requestedCertificates:a,signature:f};d.lastUpdate=Date.now(),this.sessionManager.updateSession(d);try{await this.transport.send(g)}catch(a){this.propagateTransportError(d.peerIdentityKey,a)}}async getAuthenticatedSession(a,b){let c;if(void 0===this.transport)throw Error("Peer transport is not connected!");if("string"==typeof a&&(c=this.sessionManager.getSession(a)),null==c||!c.isAuthenticated){let d=await this.initiateHandshake(a,b);if(null==(c=this.sessionManager.getSession(d))||!c.isAuthenticated)throw Error("Unable to establish mutual authentication with peer!")}return c}listenForGeneralMessages(a){let b=this.callbackIdCounter++;return this.onGeneralMessageReceivedCallbacks.set(b,a),b}stopListeningForGeneralMessages(a){this.onGeneralMessageReceivedCallbacks.delete(a)}listenForCertificatesReceived(a){let b=this.callbackIdCounter++;return this.onCertificatesReceivedCallbacks.set(b,a),b}stopListeningForCertificatesReceived(a){this.onCertificatesReceivedCallbacks.delete(a)}listenForCertificatesRequested(a){let b=this.callbackIdCounter++;return this.onCertificateRequestReceivedCallbacks.set(b,a),b}stopListeningForCertificatesRequested(a){this.onCertificateRequestReceivedCallbacks.delete(a)}async initiateHandshake(a,b=1e4){let c=await cn(this.wallet,void 0,this.originator),d=Date.now(),e=this.certificatesToRequest.certifiers.length>0;this.sessionManager.addSession({isAuthenticated:!1,sessionNonce:c,peerIdentityKey:a,lastUpdate:d,certificatesRequired:e,certificatesValidated:!e});let f={version:"0.1",messageType:"initialRequest",identityKey:await this.getIdentityPublicKey(),initialNonce:c,requestedCertificates:this.certificatesToRequest};return await this.transport.send(f),await this.waitForInitialResponse(c,b)}async waitForInitialResponse(a,b=1e4){return await new Promise((c,d)=>{let e=this.listenForInitialResponse(a,a=>{clearTimeout(f),this.stopListeningForInitialResponses(e),c(a)}),f=setTimeout(()=>{this.stopListeningForInitialResponses(e),d(Error("Initial response timed out."))},b)})}listenForInitialResponse(a,b){let c=this.callbackIdCounter++;return this.onInitialResponseReceivedCallbacks.set(c,{callback:b,sessionNonce:a}),c}stopListeningForInitialResponses(a){this.onInitialResponseReceivedCallbacks.delete(a)}propagateTransportError(a,b){if(b instanceof Error){if(null!=a){let c=b.details;null!=c&&"object"==typeof c?null==c.peerIdentityKey&&(c.peerIdentityKey=a):b.details={peerIdentityKey:a}}throw b}throw Error(`Failed to send message to peer ${a??"unknown"}: ${String(b)}`)}async handleIncomingMessage(a){if("string"!=typeof a.version||"0.1"!==a.version)throw Error(`Invalid or unsupported message auth version! Received: ${a.version}, expected: 0.1`);try{switch(a.messageType){case"initialRequest":await this.processInitialRequest(a);break;case"initialResponse":await this.processInitialResponse(a);break;case"certificateRequest":await this.processCertificateRequest(a);break;case"certificateResponse":await this.processCertificateResponse(a);break;case"general":await this.processGeneralMessage(a);break;default:throw Error(`Unknown message type of ${String(a.messageType)} from ${String(a.identityKey)}`)}}catch(a){}}async processInitialRequest(a){let b;if("string"!=typeof a.identityKey||"string"!=typeof a.initialNonce||""===a.initialNonce)throw Error("Missing required fields in initialRequest message.");let c=await cn(this.wallet,void 0,this.originator),d=Date.now(),e=Array.isArray(this.certificatesToRequest?.certifiers)&&this.certificatesToRequest.certifiers.length>0;this.sessionManager.addSession({isAuthenticated:!0,sessionNonce:c,peerNonce:a.initialNonce,peerIdentityKey:a.identityKey,lastUpdate:d,certificatesRequired:e,certificatesValidated:!e}),Array.isArray(a.requestedCertificates?.certifiers)&&a.requestedCertificates.certifiers.length>0&&(this.onCertificateRequestReceivedCallbacks.size>0?this.onCertificateRequestReceivedCallbacks.forEach(b=>{b(a.identityKey,a.requestedCertificates)}):b=await co(this.wallet,a.requestedCertificates,a.identityKey,this.originator));let{signature:f}=await this.wallet.createSignature({data:cr.base64ToBytes(a.initialNonce+c),protocolID:[2,"auth message signature"],keyID:`${a.initialNonce} ${c}`,counterparty:a.identityKey},this.originator),g={version:"0.1",messageType:"initialResponse",identityKey:await this.getIdentityPublicKey(),initialNonce:c,yourNonce:a.initialNonce,certificates:b,requestedCertificates:this.certificatesToRequest,signature:f};void 0===this.lastInteractedWithPeer&&(this.lastInteractedWithPeer=a.identityKey),await this.transport.send(g)}async processInitialResponse(a){if(!await cm(a.yourNonce,this.wallet,void 0,this.originator))throw Error(`Initial response nonce verification failed from peer: ${a.identityKey}`);let b=this.sessionManager.getSession(a.yourNonce);if(null==b)throw Error(`Peer session not found for peer: ${a.identityKey}`);let c=cr.base64ToBytes((b.sessionNonce??"")+(a.initialNonce??"")),{valid:d}=await this.wallet.verifySignature({data:c,signature:a.signature,protocolID:[2,"auth message signature"],keyID:`${b.sessionNonce??""} ${a.initialNonce??""}`,counterparty:a.identityKey},this.originator);if(!d)throw Error(`Unable to verify initial response signature for peer: ${a.identityKey}`);if(b.peerNonce=a.initialNonce,b.peerIdentityKey=a.identityKey,b.isAuthenticated=!0,b.certificatesRequired=Array.isArray(this.certificatesToRequest?.certifiers)&&this.certificatesToRequest.certifiers.length>0,b.certificatesValidated=!b.certificatesRequired,b.lastUpdate=Date.now(),this.sessionManager.updateSession(b),b.certificatesRequired&&Array.isArray(a.certificates)&&a.certificates.length>0&&(await cp(this.wallet,a,this.certificatesToRequest,this.originator),b.certificatesValidated=!0,b.lastUpdate=Date.now(),this.sessionManager.updateSession(b),this.onCertificatesReceivedCallbacks.forEach(b=>b(a.identityKey,a.certificates))),this.lastInteractedWithPeer=a.identityKey,this.onInitialResponseReceivedCallbacks.forEach(a=>{a.sessionNonce===b.sessionNonce&&a.callback(b.sessionNonce)}),null!=a.requestedCertificates&&Array.isArray(a.requestedCertificates.certifiers)&&a.requestedCertificates.certifiers.length>0)if(this.onCertificateRequestReceivedCallbacks.size>0)this.onCertificateRequestReceivedCallbacks.forEach(b=>{b(a.identityKey,a.requestedCertificates)});else{let b=await co(this.wallet,a.requestedCertificates,a.identityKey,this.originator);await this.sendCertificateResponse(a.identityKey,b)}}async processCertificateRequest(a){if(!await cm(a.yourNonce,this.wallet,void 0,this.originator))throw Error(`Unable to verify nonce for certificate request message from: ${a.identityKey}`);let b=this.sessionManager.getSession(a.yourNonce);if(null==b)throw Error(`Session not found for nonce: ${a.yourNonce}`);let{valid:c}=await this.wallet.verifySignature({data:cr.utf8ToBytes(JSON.stringify(a.requestedCertificates)),signature:a.signature,protocolID:[2,"auth message signature"],keyID:`${a.nonce??""} ${b.sessionNonce??""}`,counterparty:b.peerIdentityKey},this.originator);if(!c)throw Error(`Invalid signature in certificate request message from ${b.peerIdentityKey}`);if(b.lastUpdate=Date.now(),this.sessionManager.updateSession(b),null!=a.requestedCertificates&&Array.isArray(a.requestedCertificates.certifiers)&&a.requestedCertificates.certifiers.length>0)if(this.onCertificateRequestReceivedCallbacks.size>0)this.onCertificateRequestReceivedCallbacks.forEach(b=>{b(a.identityKey,a.requestedCertificates)});else{let b=await co(this.wallet,a.requestedCertificates,a.identityKey,this.originator);await this.sendCertificateResponse(a.identityKey,b)}}async sendCertificateResponse(a,b){let c=await this.getAuthenticatedSession(a),d=aY(bG(32)),{signature:e}=await this.wallet.createSignature({data:cr.utf8ToBytes(JSON.stringify(b)),protocolID:[2,"auth message signature"],keyID:`${d} ${c.peerNonce??""}`,counterparty:c.peerIdentityKey},this.originator),f={version:"0.1",messageType:"certificateResponse",identityKey:await this.getIdentityPublicKey(),nonce:d,initialNonce:c.sessionNonce,yourNonce:c.peerNonce,certificates:b,signature:e};c.lastUpdate=Date.now(),this.sessionManager.updateSession(c);try{await this.transport.send(f)}catch(a){this.propagateTransportError(c.peerIdentityKey,a)}}async processCertificateResponse(a){if(!await cm(a.yourNonce,this.wallet,void 0,this.originator))throw Error(`Unable to verify nonce for certificate response from: ${a.identityKey}`);let b=this.sessionManager.getSession(a.yourNonce);if(null==b)throw Error(`Session not found for nonce: ${a.yourNonce}`);let{valid:c}=await this.wallet.verifySignature({data:cr.utf8ToBytes(JSON.stringify(a.certificates)),signature:a.signature,protocolID:[2,"auth message signature"],keyID:`${a.nonce??""} ${b.sessionNonce??""}`,counterparty:a.identityKey},this.originator);if(!c)throw Error(`Unable to verify certificate response signature for peer: ${a.identityKey}`);await cp(this.wallet,a,a.requestedCertificates,this.originator),b.certificatesValidated=!0,b.lastUpdate=Date.now(),this.sessionManager.updateSession(b),this.onCertificatesReceivedCallbacks.forEach(b=>{b(a.identityKey,a.certificates??[])})}async processGeneralMessage(a){if(!await cm(a.yourNonce,this.wallet,void 0,this.originator))throw Error(`Unable to verify nonce for general message from: ${a.identityKey}`);let b=this.sessionManager.getSession(a.yourNonce);if(null==b)throw Error(`Session not found for nonce: ${a.yourNonce}`);let c=!0===b.certificatesRequired,d=!0===b.certificatesValidated;if(c&&!d)throw Error(`Received general message before certificate validation from peer ${b.peerIdentityKey??"unknown"}`);let{valid:e}=await this.wallet.verifySignature({data:a.payload,signature:a.signature,protocolID:[2,"auth message signature"],keyID:`${a.nonce??""} ${b.sessionNonce??""}`,counterparty:b.peerIdentityKey},this.originator);if(!e)throw Error(`Invalid signature in generalMessage from ${b.peerIdentityKey}`);b.lastUpdate=Date.now(),this.sessionManager.updateSession(b),this.lastInteractedWithPeer=a.identityKey,this.onGeneralMessageReceivedCallbacks.forEach(b=>{b(a.identityKey,a.payload??[])})}async getIdentityPublicKey(){if(null!=this.identityPublicKey)return this.identityPublicKey;let{publicKey:a}=await this.wallet.getPublicKey({identityKey:!0},this.originator);return this.identityPublicKey=a,a}static utf8ToBytes(a){return null!=cq?Array.from(cq.from(a,"utf8")):"u">typeof TextEncoder?Array.from(new TextEncoder().encode(a)):aS(a,"utf8")}static base64ToBytes(a){return null!=cq?Array.from(cq.from(a,"base64")):aS(a,"base64")}}"u">typeof globalThis&&"function"==typeof globalThis.fetch?globalThis.fetch.bind(globalThis):fetch;var cb=cb;let cs="bsvsdk_overlay_host_reputation_v1";class ct{stats;store;constructor(a){this.stats=new Map,this.store=a??this.getLocalStorageAdapter(),this.loadFromStorage()}reset(){this.stats.clear()}recordSuccess(a,b){let c=this.getOrCreate(a),d=Date.now(),e=Number.isFinite(b)&&b>=0?b:1500;null===c.avgLatencyMs?c.avgLatencyMs=e:c.avgLatencyMs=.75*c.avgLatencyMs+.25*e,c.lastLatencyMs=e,c.totalSuccesses+=1,c.consecutiveFailures=0,c.backoffUntil=0,c.lastUpdatedAt=d,c.lastError=void 0,this.saveToStorage()}recordFailure(a,b){let c=this.getOrCreate(a),d=Date.now();c.totalFailures+=1,c.consecutiveFailures+=1;let e="string"==typeof b?b:b instanceof Error?b.message:void 0;"string"==typeof e&&(e.includes("ERR_NAME_NOT_RESOLVED")||e.includes("ENOTFOUND")||e.includes("getaddrinfo")||e.includes("Failed to fetch"))&&c.consecutiveFailures<3&&(c.consecutiveFailures=3);let f=Math.max(c.consecutiveFailures-2,0);0===f?c.backoffUntil=0:c.backoffUntil=d+Math.min(6e4,1e3*Math.pow(2,f-1)),c.lastUpdatedAt=d,c.lastError="string"==typeof b?b:b instanceof Error?b.message:void 0,this.saveToStorage()}rankHosts(a,b=Date.now()){let c=new Map;a.forEach((a,b)=>{"string"==typeof a&&0!==a.length&&(c.has(a)||c.set(a,b))});let d=Array.from(c.keys()).map(a=>{let d=this.getOrCreate(a);return{...d,score:this.computeScore(d,b),originalOrder:c.get(a)??0}});return d.sort((a,c)=>{let d=a.backoffUntil>b;return d!==c.backoffUntil>b?d?1:-1:a.score!==c.score?a.score-c.score:a.totalSuccesses!==c.totalSuccesses?c.totalSuccesses-a.totalSuccesses:a.originalOrder-c.originalOrder}),d.map(({originalOrder:a,...b})=>b)}snapshot(a){let b=this.stats.get(a);return null!=b?{...b}:void 0}getStorage(){try{let a="object"==typeof globalThis?globalThis:void 0;if(null==a||null==a.localStorage)return;return a.localStorage}catch{return}}getLocalStorageAdapter(){let a=this.getStorage();if(null!=a)return{get:b=>{try{return a.getItem(b)}catch{return null}},set:(b,c)=>{try{a.setItem(b,c)}catch{}}}}loadFromStorage(){let a=this.store;if(null!=a)try{let b=a.get(cs);if("string"!=typeof b||0===b.length)return;let c=JSON.parse(b);if("object"!=typeof c||null===c)return;for(let a of(this.stats.clear(),Object.keys(c))){let b=c[a];if(null!=b&&"object"==typeof b){let c={host:String(b.host??a),totalSuccesses:Number(b.totalSuccesses??0),totalFailures:Number(b.totalFailures??0),consecutiveFailures:Number(b.consecutiveFailures??0),avgLatencyMs:null==b.avgLatencyMs?null:Number(b.avgLatencyMs),lastLatencyMs:null==b.lastLatencyMs?null:Number(b.lastLatencyMs),backoffUntil:Number(b.backoffUntil??0),lastUpdatedAt:Number(b.lastUpdatedAt??0),lastError:"string"==typeof b.lastError?b.lastError:void 0};this.stats.set(c.host,c)}}}catch{}}saveToStorage(){let a=this.store;if(null!=a)try{let b={};for(let[a,c]of this.stats.entries())b[a]=c;a.set(cs,JSON.stringify(b))}catch{}}computeScore(a,b){let c=a.avgLatencyMs??1500,d=400*a.consecutiveFailures,e=Math.min(30*a.totalSuccesses,c/2);return c+d+(a.backoffUntil>b?a.backoffUntil-b:0)-e}getOrCreate(a){let b=this.stats.get(a);return null==b&&(b={host:a,totalSuccesses:0,totalFailures:0,consecutiveFailures:0,avgLatencyMs:null,lastLatencyMs:null,backoffUntil:0,lastUpdatedAt:0},this.stats.set(a,b)),b}}new ct,"u">typeof globalThis&&"function"==typeof globalThis.fetch?globalThis.fetch.bind(globalThis):fetch;var cc=cc;let cu=a=>(a.toLowerCase().startsWith("uhrp:")&&(a=a.slice(5)),a.startsWith("//")&&(a=a.slice(2)),a),cv=a=>{if(32!==a.length)throw Error("Hash length must be 32 bytes (sha256)");return a0(a,aS("ce00","hex"))},cw=a=>{let{data:b,prefix:c}=a1(a=cu(a),void 0,2);if(32!==b.length)throw Error("Invalid length!");if("ce00"!==aR(c))throw Error("Bad prefix");return b};a.s(["getHashFromURL",0,cw,"getURLForFile",0,a=>{let b=a instanceof Uint8Array?a:Uint8Array.from(a),c=new cc.SHA256;for(let a=0;a<b.length;a+=1048576){let d=b.subarray(a,a+1048576);c.update(Array.from(d))}return cv(c.digest())},"getURLForHash",0,cv,"isValidURL",0,a=>{try{return cw(a),!0}catch(a){return!1}},"normalizeURL",0,cu],47839),a.i(47839);var cc=cc,cb=cb;a.i(15948);var cb=cb,cb=cb,cb=cb;a.i(69786),a.i(38515);var cx=a.i(5217),cx=cx;a.i(74308);var cy=cb;let cz=null;async function cA(){if(cz)return cz;let a=await fetch("/api/session-key");if(!a.ok)throw Error("Failed to fetch session key");let{publicKey:b}=await a.json();return cz=b,b}function cB(a,b){let c=bK.fromRandom(),d=bD.fromString(a),e=cy.toArray(b,"utf8"),f=cx.encrypt(e,c,d);return{ciphertext:cy.toHex(f)}}async function cC(a,b){let c=await cA(),d=JSON.stringify(b),e=cB(c,d),f=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),g=await f.json();if(g.error?.code==="SESSION_DECRYPT_FAILED"||g.error?.includes?.("decrypt")||g.error?.includes?.("Decryption")){cz=null;let b=cB(await cA(),d),c=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),e=await c.json();if(e.error?.code==="SESSION_DECRYPT_FAILED")throw Error("Secure transport failed: session key mismatch persists after retry");return e}return g}async function cD(){let a=await fetch("/api/status"),b=await a.json();return{status:b.seed?b.unlocked?"unlocked":"locked":"no_wallet",keys:b.keys,states:b.states}}async function cE(a){return cC("/api/login",{password:a})}async function cF(){return(await fetch("/api/logout",{method:"POST"})).json()}async function cG(a){return cC("/api/register",a)}async function cH(a){return cC("/api/import",a)}async function cI(a){return cC("/api/export",{password:a})}async function cJ(a){return cC("/api/auth",a)}async function cK(a){return(await fetch("/api/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json()}function cL(){return"/api/auth/icon"}async function cM(){return(await fetch("/api/identity")).json()}async function cN(){return(await fetch("/api/backups")).json()}async function cO(a){return(await fetch("/api/backups",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:a})})).json()}async function cP(a){return(await fetch("/api/backups/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:a})})).json()}async function cQ(a,b,c){return cC("/api/backups/import",{content:a,password:b,label:c})}async function cR(a,b,c,d){return cC("/api/backups/create",{path:a,password:b,label:c,mnemonic:d})}a.s(["authorize",()=>cJ,"createBackup",()=>cR,"exportSeed",()=>cI,"getBackups",()=>cN,"getIdentities",()=>cM,"getSecurityIconUrl",()=>cL,"getStatus",()=>cD,"importBackup",()=>cQ,"importSeed",()=>cH,"login",()=>cE,"logout",()=>cF,"register",()=>cG,"removeBackup",()=>cO,"saveProfile",()=>cK,"switchBackup",()=>cP],13572)}];

//# sourceMappingURL=web_1d5f76fb._.js.map