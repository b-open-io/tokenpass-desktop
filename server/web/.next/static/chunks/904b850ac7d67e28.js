(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53913,(e,r,t)=>{r.exports=e.r(87603)},86076,e=>{"use strict";var r=e.i(14294),t=e.i(56881),a=e.i(30878),s=e.i(41416),n=e.i(9945);function l(e,t=[]){let s=[],n=()=>{let r=s.map(e=>a.createContext(e));return function(t){let s=t?.[e]||r;return a.useMemo(()=>({[`__scope${e}`]:{...t,[e]:s}}),[t,s])}};return n.scopeName=e,[function(t,n){let l=a.createContext(n),i=s.length;s=[...s,n];let o=t=>{let{scope:s,children:n,...o}=t,c=s?.[e]?.[i]||l,d=a.useMemo(()=>o,Object.values(o));return(0,r.jsx)(c.Provider,{value:d,children:n})};return o.displayName=t+"Provider",[o,function(r,s){let o=s?.[e]?.[i]||l,c=a.useContext(o);if(c)return c;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=t.reduce((r,{useScope:t,scopeName:a})=>{let s=t(e)[`__scope${a}`];return{...r,...s}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return t.scopeName=r.scopeName,t}(n,...t)]}e.i(73340);var i=Symbol("radix.slottable");function o(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{var s,l;let i,c,d,u=(l=s=`Primitive.${t}`,(i=a.forwardRef((e,r)=>{let{children:t,...s}=e;if(a.isValidElement(t)){var l;let e,i,o=(l=t,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,r){let t={...r};for(let a in r){let s=e[a],n=r[a];/^on[A-Z]/.test(a)?s&&n?t[a]=(...e)=>{let r=n(...e);return s(...e),r}:s&&(t[a]=s):"style"===a?t[a]={...s,...n}:"className"===a&&(t[a]=[s,n].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==a.Fragment&&(c.ref=r?(0,n.composeRefs)(r,o):o),a.cloneElement(t,c)}return a.Children.count(t)>1?a.Children.only(null):null})).displayName=`${l}.SlotClone`,c=i,(d=a.forwardRef((e,t)=>{let{children:s,...n}=e,l=a.Children.toArray(s),i=l.find(o);if(i){let e=i.props.children,s=l.map(r=>r!==i?r:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,r.jsx)(c,{...n,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,r.jsx)(c,{...n,ref:t,children:s})})).displayName=`${s}.Slot`,d),m=a.forwardRef((e,a)=>{let{asChild:s,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(s?u:t,{...n,ref:a})});return m.displayName=`Primitive.${t}`,{...e,[t]:m}},{}),d=e.i(62959),u=e.i(65488),m=e.i(42899),p=e.i(26168),f=e.i(95509),h="Radio",[x,v]=l(h),[j,y]=x(h),b=a.forwardRef((e,t)=>{let{__scopeRadio:l,name:i,checked:o=!1,required:d,disabled:u,value:m="on",onCheck:p,form:f,...h}=e,[x,v]=a.useState(null),y=(0,n.useComposedRefs)(t,e=>v(e)),b=a.useRef(!1),g=!x||f||!!x.closest("form");return(0,r.jsxs)(j,{scope:l,checked:o,disabled:u,children:[(0,r.jsx)(c.button,{type:"button",role:"radio","aria-checked":o,"data-state":_(o),"data-disabled":u?"":void 0,disabled:u,value:m,...h,ref:y,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{o||p?.(),g&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),g&&(0,r.jsx)(N,{control:x,bubbles:!b.current,name:i,value:m,checked:o,required:d,disabled:u,form:f,style:{transform:"translateX(-100%)"}})]})});b.displayName=h;var g="RadioIndicator",w=a.forwardRef((e,t)=>{let{__scopeRadio:a,forceMount:s,...n}=e,l=y(g,a);return(0,r.jsx)(f.Presence,{present:s||l.checked,children:(0,r.jsx)(c.span,{"data-state":_(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:t})})});w.displayName=g;var N=a.forwardRef(({__scopeRadio:e,control:t,checked:s,bubbles:l=!0,...i},o)=>{let d,u=a.useRef(null),m=(0,n.useComposedRefs)(u,o),f=(d=a.useRef({value:s,previous:s}),a.useMemo(()=>(d.current.value!==s&&(d.current.previous=d.current.value,d.current.value=s),d.current.previous),[s])),h=(0,p.useSize)(t);return a.useEffect(()=>{let e=u.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(f!==s&&r){let t=new Event("click",{bubbles:l});r.call(e,s),e.dispatchEvent(t)}},[f,s,l]),(0,r.jsx)(c.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:m,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function _(e){return e?"checked":"unchecked"}N.displayName="RadioBubbleInput";var S=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],R="RadioGroup",[k,C]=l(R,[d.createRovingFocusGroupScope,v]),A=(0,d.createRovingFocusGroupScope)(),E=v(),[P,I]=k(R),T=a.forwardRef((e,t)=>{let{__scopeRadioGroup:a,name:s,defaultValue:n,value:l,required:i=!1,disabled:o=!1,orientation:p,dir:f,loop:h=!0,onValueChange:x,...v}=e,j=A(a),y=(0,m.useDirection)(f),[b,g]=(0,u.useControllableState)({prop:l,defaultProp:n??null,onChange:x,caller:R});return(0,r.jsx)(P,{scope:a,name:s,required:i,disabled:o,value:b,onValueChange:g,children:(0,r.jsx)(d.Root,{asChild:!0,...j,orientation:p,dir:y,loop:h,children:(0,r.jsx)(c.div,{role:"radiogroup","aria-required":i,"aria-orientation":p,"data-disabled":o?"":void 0,dir:y,...v,ref:t})})})});T.displayName=R;var L="RadioGroupItem",F=a.forwardRef((e,t)=>{let{__scopeRadioGroup:l,disabled:i,...o}=e,c=I(L,l),u=c.disabled||i,m=A(l),p=E(l),f=a.useRef(null),h=(0,n.useComposedRefs)(t,f),x=c.value===o.value,v=a.useRef(!1);return a.useEffect(()=>{let e=e=>{S.includes(e.key)&&(v.current=!0)},r=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",r)}},[]),(0,r.jsx)(d.Item,{asChild:!0,...m,focusable:!u,active:x,children:(0,r.jsx)(b,{disabled:u,required:c.required,checked:x,...p,...o,name:c.name,ref:h,onCheck:()=>c.onValueChange(o.value),onKeyDown:(0,s.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,s.composeEventHandlers)(o.onFocus,()=>{v.current&&f.current?.click()})})})});F.displayName=L;var D=a.forwardRef((e,t)=>{let{__scopeRadioGroup:a,...s}=e,n=E(a);return(0,r.jsx)(w,{...n,...s,ref:t})});D.displayName="RadioGroupIndicator";var G=e.i(13542),O=e.i(55552);function U(e){let a,s,n,l,i=(0,t.c)(8);return i[0]!==e?({className:a,...s}=e,i[0]=e,i[1]=a,i[2]=s):(a=i[1],s=i[2]),i[3]!==a?(n=(0,O.cn)("grid gap-3",a),i[3]=a,i[4]=n):n=i[4],i[5]!==s||i[6]!==n?(l=(0,r.jsx)(T,{"data-slot":"radio-group",className:n,...s}),i[5]=s,i[6]=n,i[7]=l):l=i[7],l}function $(e){let a,s,n,l,i,o=(0,t.c)(9);return o[0]!==e?({className:a,...s}=e,o[0]=e,o[1]=a,o[2]=s):(a=o[1],s=o[2]),o[3]!==a?(n=(0,O.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),o[3]=a,o[4]=n):n=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(D,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,r.jsx)(G.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})}),o[5]=l):l=o[5],o[6]!==s||o[7]!==n?(i=(0,r.jsx)(F,{"data-slot":"radio-group-item",className:n,...s,children:l}),o[6]=s,o[7]=n,o[8]=i):i=o[8],i}e.s(["RadioGroup",()=>U,"RadioGroupItem",()=>$],86076)},1015,e=>{"use strict";var r=e.i(14294),t=e.i(56881),a=e.i(53913),s=e.i(30878),n=e.i(58675),l=e.i(87054),i=e.i(28574),o=e.i(66904),c=e.i(58021),d=e.i(77982),u=e.i(34066),m=e.i(86076),p=e.i(34432),f=e.i(24741);function h(e){let a,i,h,j,y,b,g,w,N,_,S,R,k,C,A,E,P,I,T,L,F,D,G=(0,t.c)(48),{host:O,icon:U,scopes:$,returnURL:z}=e,[M,B]=(0,s.useState)(""),[V,H]=(0,s.useState)("once"),[q,W]=(0,s.useState)(null),[K,X]=(0,s.useState)(!1);G[0]!==V||G[1]!==O||G[2]!==U||G[3]!==M||G[4]!==z||G[5]!==$?(a=async e=>{if(e.preventDefault(),!M)return void W("Please enter your password");X(!0),W(null);let r=await (0,f.authorize)({password:M,host:O,icon:U,scopes:$,expire:V});if(X(!1),r.error)W(r.error),B("");else if(r.success&&r.accessToken){if(window.opener)window.close();else if(z){let e=new URL(z);e.searchParams.set("tokenPass",r.accessToken),window.location.href=e.toString()}}},G[0]=V,G[1]=O,G[2]=U,G[3]=M,G[4]=z,G[5]=$,G[6]=a):a=G[6];let Z=a;G[7]===Symbol.for("react.memo_cache_sentinel")?(i=[{value:"once",label:"Ask Every Time"},{value:"1h",label:"Allow for 1 Hour"},{value:"1d",label:"Allow for 1 Day"},{value:"1m",label:"Allow for 1 Month"},{value:"forever",label:"Allow Forever"}],G[7]=i):i=G[7];let J=i;G[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)("header",{className:"border-b",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(l.Avatar,{className:"h-8 w-8",children:[(0,r.jsx)(l.AvatarImage,{src:(0,f.getSecurityIconUrl)(),alt:"TokenPass"}),(0,r.jsx)(l.AvatarFallback,{children:"TP"})]}),(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"TokenPass"})]}),(0,r.jsx)(n.ModeToggle,{})]})}),G[8]=h):h=G[8],G[9]!==O||G[10]!==U?(j=U&&(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)(l.Avatar,{className:"h-20 w-20",children:[(0,r.jsx)(l.AvatarImage,{src:U,alt:O}),(0,r.jsx)(l.AvatarFallback,{children:O.slice(0,2).toUpperCase()})]})}),G[9]=O,G[10]=U,G[11]=j):j=G[11],G[12]!==O?(y=(0,r.jsxs)(c.CardTitle,{children:["Authorize ",O]}),G[12]=O,G[13]=y):y=G[13],G[14]===Symbol.for("react.memo_cache_sentinel")?(b=(0,r.jsx)(c.CardDescription,{children:"This site is requesting access to your wallet"}),G[14]=b):b=G[14],G[15]!==y?(g=(0,r.jsxs)("div",{children:[y,b]}),G[15]=y,G[16]=g):g=G[16],G[17]!==j||G[18]!==g?(w=(0,r.jsxs)(c.CardHeader,{className:"text-center space-y-4",children:[j,g]}),G[17]=j,G[18]=g,G[19]=w):w=G[19],G[20]===Symbol.for("react.memo_cache_sentinel")?(N=(0,r.jsx)(u.Label,{htmlFor:"password",children:"Password"}),G[20]=N):N=G[20],G[21]===Symbol.for("react.memo_cache_sentinel")?(_=e=>B(e.target.value),G[21]=_):_=G[21],G[22]!==M?(S=(0,r.jsxs)("div",{className:"space-y-2",children:[N,(0,r.jsx)(d.Input,{id:"password",type:"password",value:M,onChange:_,placeholder:"Enter your password",autoFocus:!0})]}),G[22]=M,G[23]=S):S=G[23],G[24]===Symbol.for("react.memo_cache_sentinel")?(R=(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[(0,r.jsxs)(l.Avatar,{className:"h-6 w-6",children:[(0,r.jsx)(l.AvatarImage,{src:(0,f.getSecurityIconUrl)(),alt:"Security"}),(0,r.jsx)(l.AvatarFallback,{children:"!"})]}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Make sure you recognize this security image"})]}),k=(0,r.jsx)(p.Separator,{}),G[24]=R,G[25]=k):(R=G[24],k=G[25]),G[26]===Symbol.for("react.memo_cache_sentinel")?(C=(0,r.jsx)(u.Label,{className:"text-muted-foreground",children:"This host would like access to:"}),G[26]=C):C=G[26],G[27]!==$?(A=(0,r.jsxs)("div",{className:"space-y-2",children:[C,(0,r.jsx)("div",{className:"p-3 bg-muted rounded-md",children:$.length>0?(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:$.map(v)}):(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Authentication only"})})]}),G[27]=$,G[28]=A):A=G[28],G[29]===Symbol.for("react.memo_cache_sentinel")?(E=(0,r.jsx)(u.Label,{children:"Authorization Duration"}),G[29]=E):E=G[29],G[30]===Symbol.for("react.memo_cache_sentinel")?(P=J.map(x),G[30]=P):P=G[30],G[31]!==V?(I=(0,r.jsxs)("div",{className:"space-y-3",children:[E,(0,r.jsx)(m.RadioGroup,{value:V,onValueChange:H,children:P})]}),G[31]=V,G[32]=I):I=G[32],G[33]!==q?(T=q&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:q}),G[33]=q,G[34]=T):T=G[34];let Q=K?"Authorizing...":"Allow";return G[35]!==K||G[36]!==Q?(L=(0,r.jsx)(o.Button,{type:"submit",className:"w-full",disabled:K,children:Q}),G[35]=K,G[36]=Q,G[37]=L):L=G[37],G[38]!==Z||G[39]!==S||G[40]!==A||G[41]!==I||G[42]!==T||G[43]!==L?(F=(0,r.jsx)(c.CardContent,{children:(0,r.jsxs)("form",{onSubmit:Z,className:"space-y-6",children:[S,R,k,A,I,T,L]})}),G[38]=Z,G[39]=S,G[40]=A,G[41]=I,G[42]=T,G[43]=L,G[44]=F):F=G[44],G[45]!==F||G[46]!==w?(D=(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[h,(0,r.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,r.jsxs)(c.Card,{className:"w-full max-w-md",children:[w,F]})})]}),G[45]=F,G[46]=w,G[47]=D):D=G[47],D}function x(e){return(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(m.RadioGroupItem,{value:e.value,id:e.value}),(0,r.jsx)(u.Label,{htmlFor:e.value,className:"font-normal cursor-pointer",children:e.label})]},e.value)}function v(e){return(0,r.jsx)(i.Badge,{variant:"secondary",children:e},e)}var j=e.i(79889),y=e.i(99465);function b(){let e,n,l,i,o,c,d,u,m=(0,t.c)(19),p=(0,a.useSearchParams)(),[x,v]=(0,s.useState)("loading");m[0]!==p?(e=p.get("host")||"unknown",m[0]=p,m[1]=e):e=m[1];let b=e;m[2]!==p?(n=p.get("icon")||void 0,m[2]=p,m[3]=n):n=m[3];let g=n;if(m[4]!==p){let e=p.get("scopes")||"";l=e?e.split(",").filter(Boolean):[],m[4]=p,m[5]=l}else l=m[5];let w=l;m[6]!==p?(i=p.get("returnURL")||void 0,m[6]=p,m[7]=i):i=m[7];let N=i;m[8]===Symbol.for("react.memo_cache_sentinel")?(o=async()=>{v("loading");let e=await (0,f.getStatus)();"no_wallet"===e.status?v("no_wallet"):"locked"===e.status?v("locked"):v("ready")},m[8]=o):o=m[8];let _=o;if(m[9]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{_()},d=[_],m[9]=c,m[10]=d):(c=m[9],d=m[10]),(0,s.useEffect)(c,d),"loading"===x){let e;return m[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsx)("div",{className:"h-16 w-16 mx-auto rounded-full bg-muted"})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading TokenPass..."})]})}),m[11]=e):e=m[11],e}if("no_wallet"===x){let e;return m[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(y.Register,{onSuccess:_}),m[12]=e):e=m[12],e}if("locked"===x){let e;return m[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(j.Login,{onSuccess:_}),m[13]=e):e=m[13],e}return m[14]!==b||m[15]!==g||m[16]!==N||m[17]!==w?(u=(0,r.jsx)(h,{host:b,icon:g,scopes:w,returnURL:N}),m[14]=b,m[15]=g,m[16]=N,m[17]=w,m[18]=u):u=m[18],u}function g(){let e,a=(0,t.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsx)("div",{className:"h-16 w-16 mx-auto rounded-full bg-muted"})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading TokenPass..."})]})}),children:(0,r.jsx)(b,{})}),a[0]=e):e=a[0],e}e.s(["default",()=>g],1015)}]);